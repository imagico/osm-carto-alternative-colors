# ---------------------------------------------------------------------------
#  symbols_labels.yaml
#
#  input for scripts/generate_symbols_labels.py
#
#  defines how point symbols and labels are rendered by the style
#  for file syntax see comments below
#
#  Copyright 2012-2023 by OSM-Carto contributors
#  Copyright 2017-2025 by Christoph Hormann <chris_hormann@gmx.de>
# ---------------------------------------------------------------------------
#  This file is part of the OSM-Carto alternative colors map style.
#
#  OSM-Carto alternative colors is an open design and free software project
#  You can use, modify and/or redistribute it under the terms of the
#  following licenses:
#
#  Design components of the project are subject to the Creative Commons
#  Attribution ShareAlike 4.0 (CC BY-SA 4.0) License.
#
#  Software components of the project are subject to the GNU Affero General
#  Public License published by the Free Software Foundation, either
#  version 3 of the License, or (at your option) any later version.
#
#  OSM-Carto alternative colors is distributed in the hope that it will be
#  useful, but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero
#  General Public License and the Creative Commons Attribution ShareAlike
#  4.0 (CC BY-SA 4.0) License for more details.
#
#  You should have received a copy of the Creative Commons Attribution
#  ShareAlike 4.0 (CC BY-SA 4.0) License along with OSM-Carto alternative
#  colors. If not, see
#  <https://creativecommons.org/licenses/by-sa/4.0/legalcode>.
#
#  You should have also received a copy of the GNU Affero General Public
#  License. If not, see <https://www.gnu.org/licenses/>.
# ---------------------------------------------------------------------------

# General settings are given here - some can be overridden by command line
# parameters
#
# database access is needed to determine which tags have columns 
# and which are in hstore
#
# labels_symbols decided if symbols and labels are rendered separately
# (as traditionally in OSM-Carto) or preferably in combination (using shield
# symbolizers).

settings:
  dir: symbols
  database: gis
  layer: amenity-points
  min_zoom: 10
  mml: layers/symbols-labels-generated.mml
  mss: style/symbols-labels-generated.mss
  # mss files with addon symbols for contact sheet
  addon_mss:
    - style/amenity-points.mss
    - style/landcover.mss
    - style/buildings.mss
    - style/water-features.mss
  table_points: planet_osm_point
  table_lines: planet_osm_line
  table_polygons: planet_osm_polygon
  labels_symbols: separate
  #labels_symbols: combined

# For tag interpretation priorities for geometries with tags
# matching different feature types:
#
# The following key list prioritizes primary keys.
# Priorities in the feature parameters will overrride this

keys:
  - aeroway
  - railway
  - highway
  - natural
  - aerialway
  - tourism
  - amenity
  - office
  - advertising
  - emergency
  - shop
  - leisure
  - power
  - man_made
  - landuse
  - waterway
  - place
  - historic
  - military
  - ford
  - boundary
  - barrier
  - golf

# colors used for symbols and labels
# these are defined here and not in MSS only because the SVGs
# need to be colored for use in shield symbolizers

colors:
  marina-text: "#576ddf"
  # darken(#4aa5fa, 25%);
  wetland-text: "#0665bf"
  shop-icon: "#ac39ac"
  shop-text: "#939"
  white: "#ffffff"
  transportation: "#dedeee"
  transportation-icon: &transportation-icon "#8461C4"
  # darken(@transportation-icon, 10%);
  transportation-text: &transportation-text "#6942b0"
  airtransport: *transportation-icon
  accommodation-icon: *transportation-icon
  accommodation-text: *transportation-text
  health-color: &health-color "#da0092"
  health-icon: *health-color
  health-text: *health-color
  amenity-brown: &amenity-brown "#734a08"
  amenity-icon: *amenity-brown
  amenity-text: *amenity-brown
  gastronomy-icon: *amenity-brown
  gastronomy-text: *amenity-brown
  memorial-icon: *amenity-brown
  memorial-text: *amenity-brown
  culture-icon: *amenity-brown
  culture-text: *amenity-brown
  public-service-icon: *amenity-brown
  public-service-text: *amenity-brown
  office-icon: &office-icon "#4863A0"
  office-text: *office-icon
  man-made-icon: &man-made-icon "#555"
  man-made-text: "#000000"
  cave-icon: "#000000"
  cave-text: "#000000"
  island-text: "#000000"
  bridge-text: "#000000"
  advertising-grey: *man-made-icon
  landform-icon: "#d08f55"
  # darken(@landform-color, 30%);
  landform-text: "#6e441e"
  leisure-icon: *amenity-brown
  leisure-text: *amenity-brown
  airtransport-icon: *transportation-icon
  airtransport-text: *transportation-text
  water-icon: "#24a6cc"
  water-hot: "#ff4020"
  water-text: "#2f8099"
  place-of-worship-icon: "#000000"
  place-of-worship-text: "#000033"
  station-icon: "#7981b0"
  # darken(saturate(@station-color, 15%), 10%);
  station-text: "#4957ad"
  traffic-light-icon: "#0a0a0a"
  level-crossing-icon: "#4d4d4d"
  gate-icon: "#3f3f3f"
  bollard-icon: "#7d7c7c"
  tree-text: "#4d9945"
  aeroway-gate-text: "#aa66cc"
  planter-fill: "#addfa5"

  content_water: "#a2d1e0"
  content_oil: "#d1b188"
  content_gas: "#ffd485"
  content_sewage: "#c1c1c1"
  content_silage: "#b1c68d"
  content_grain: "#f6e29a"
  content_manure: "#d1b188"
  content_gravel: "#c1c1c1"
  content_coal: "#777777"
  content_salt: "#ffffff"

# styling types for symbols and labels

styles:
  standard: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
    }
    [vis_type = 'symbol-label'] {
      shield-placement: interior;
      shield-clip: false;
      shield-name: '[name]';
      shield-size: [[label_size]];
      shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
      shield-halo-radius: @standard-halo-radius * [[halo_radius]];
      shield-halo-fill: @standard-halo-fill;
      shield-wrap-width: @standard-wrap-width;
      shield-line-spacing: @standard-line-spacing-size;
      shield-fill: [[label_color]];
      shield-text-dy: [[text_dy]];
      shield-unlock-image: true;
      shield-file: url('[[symbol_file]]');
      symbolonly/marker-placement: interior;
      symbolonly/marker-clip: false;
      symbolonly/marker-file: url('[[symbol_file]]');
      textonly/text-placement: interior;
      textonly/text-name: '[name]';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius * [[halo_radius]];
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-avoid-edges: true;
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: [[text_dy]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius * [[halo_radius]];
      text-halo-fill: @standard-halo-fill;
      textonly/text-anchor-cond: "'!'+[osm_id]";
      textonly/text-placement: interior;
      textonly/text-name: '[name]';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius * [[halo_radius]];
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-avoid-edges: true;
    }
    [vis_type = 'label-only'] {
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius * [[halo_radius]];
      text-halo-fill: @standard-halo-fill;
    }

  standard-symbol-zoom-variant: |
    [zoom >= [[start_symbol]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: '[osm_id]';
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-file: url('[[symbol_file]]');
        shield-size: [[label_size]];
        shield-text-dy: [[text_dy]];
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-dy: [[text_dy]];
        text-size: [[label_size]];
        textonly/text-anchor-cond: "'!'+[osm_id]";
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-only'] { text-size: [[label_size]]; }
    }

  standard-symbol-attribute-variant: |
    [[attribute_selector]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: '[osm_id]';
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-file: url('[[symbol_file]]');
        shield-size: [[label_size]];
        shield-text-dy: [[text_dy]];
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-dy: [[text_dy]];
        text-size: [[label_size]];
        textonly/text-anchor-cond: "'!'+[osm_id]";
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-only'] { text-size: [[label_size]]; }
    }

  standard-symbol-zoom-attribute-variant: |
    [[attribute_selector]][zoom >= [[start_symbol]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: '[osm_id]';
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-file: url('[[symbol_file]]');
        shield-size: [[label_size]];
        shield-text-dy: [[text_dy]];
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-dy: [[text_dy]];
        text-size: [[label_size]];
        textonly/text-anchor-cond: "'!'+[osm_id]";
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-only'] { text-size: [[label_size]]; }
    }

  zoom-limited: |
    [zoom < [[zoom_limit]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: '[osm_id]';
        marker-placement: interior;
        marker-clip: false;
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-placement: interior;
        shield-clip: false;
        shield-name: '[name]';
        shield-size: [[label_size]];
        shield-face-name: @[[font_type]]-fonts;
        [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
        [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
        [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
        [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
        [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
        shield-halo-radius: @standard-halo-radius * [[halo_radius]];
        shield-halo-fill: @standard-halo-fill;
        shield-wrap-width: @standard-wrap-width;
        shield-line-spacing: @standard-line-spacing-size;
        shield-fill: [[label_color]];
        shield-text-dy: [[text_dy]];
        shield-unlock-image: true;
        shield-file: url('[[symbol_file]]');
        symbolonly/marker-placement: interior;
        symbolonly/marker-clip: false;
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-placement: interior;
        textonly/text-name: '[name]';
        textonly/text-size: [[label_size]];
        textonly/text-wrap-width: @standard-wrap-width;
        textonly/text-line-spacing: @standard-line-spacing-size;
        textonly/text-fill: [[label_color]];
        textonly/text-face-name: @[[font_type]]-fonts;
        [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
        [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
        [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
        [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
        [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
        textonly/text-halo-radius: @standard-halo-radius * [[halo_radius]];
        textonly/text-halo-fill: @standard-halo-fill;
        textonly/text-avoid-edges: true;
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-placement: interior;
        text-name: '[name]';
        text-size: [[label_size]];
        text-wrap-width: @standard-wrap-width;
        text-line-spacing: @standard-line-spacing-size;
        text-fill: [[label_color]];
        text-dy: [[text_dy]];
        text-face-name: @[[font_type]]-fonts;
        [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
        [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
        [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
        [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
        [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
        text-halo-radius: @standard-halo-radius * [[halo_radius]];
        text-halo-fill: @standard-halo-fill;
        textonly/text-anchor-cond: "'!'+[osm_id]";
        textonly/text-placement: interior;
        textonly/text-name: '[name]';
        textonly/text-size: [[label_size]];
        textonly/text-wrap-width: @standard-wrap-width;
        textonly/text-line-spacing: @standard-line-spacing-size;
        textonly/text-fill: [[label_color]];
        textonly/text-face-name: @[[font_type]]-fonts;
        [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
        [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
        [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
        [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
        [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
        textonly/text-halo-radius: @standard-halo-radius * [[halo_radius]];
        textonly/text-halo-fill: @standard-halo-fill;
        textonly/text-avoid-edges: true;
      }
      [vis_type = 'label-only'] {
        text-placement: interior;
        text-name: '[name]';
        text-size: [[label_size]];
        text-wrap-width: @standard-wrap-width;
        text-line-spacing: @standard-line-spacing-size;
        text-fill: [[label_color]];
        text-face-name: @[[font_type]]-fonts;
        [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
        [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
        [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
        [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
        [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
        text-halo-radius: @standard-halo-radius * [[halo_radius]];
        text-halo-fill: @standard-halo-fill;
      }
    }

  access-light: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
      [int_access = 'restricted'] {
        marker-opacity: @private-opacity;
      }
    }
    [vis_type = 'symbol-label'] {
      shield-placement: interior;
      shield-clip: false;
      shield-name: '[name]';
      shield-size: [[label_size]];
      shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
      shield-halo-radius: @standard-halo-radius * [[halo_radius]];
      shield-halo-fill: @standard-halo-fill;
      shield-wrap-width: @standard-wrap-width;
      shield-line-spacing: @standard-line-spacing-size;
      shield-fill: [[label_color]];
      shield-text-dy: [[text_dy]];
      shield-unlock-image: true;
      shield-file: url('[[symbol_file]]');
      symbolonly/marker-placement: interior;
      symbolonly/marker-clip: false;
      symbolonly/marker-file: url('[[symbol_file]]');
      textonly/text-placement: interior;
      textonly/text-name: '[name]';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius * [[halo_radius]];
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-avoid-edges: true;
      [int_access = 'restricted'] {
        shield-opacity: @private-opacity;
        shield-text-opacity: @private-opacity;
        shield-halo-radius: 0;
        symbolonly/marker-opacity: @private-opacity;
        textonly/text-opacity: @private-opacity;
        textonly/text-halo-radius: 0;
      }
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: [[text_dy]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius * [[halo_radius]];
      text-halo-fill: @standard-halo-fill;
      textonly/text-anchor-cond: "'!'+[osm_id]";
      textonly/text-placement: interior;
      textonly/text-name: '[name]';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius * [[halo_radius]];
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-avoid-edges: true;
      [int_access = 'restricted'] {
        text-opacity: @private-opacity;
        text-halo-radius: 0;
        textonly/text-opacity: @private-opacity;
        textonly/text-halo-radius: 0;
      }
    }
    [vis_type = 'label-only'] {
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius * [[halo_radius]];
      text-halo-fill: @standard-halo-fill;
      [int_access = 'restricted'] {
        text-opacity: @private-opacity;
        text-halo-radius: 0;
      }
    }

  ref: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
    }
    [vis_type = 'symbol-label'] {
      shield-placement: interior;
      shield-clip: false;
      shield-name: '[ref]';
      shield-size: [[label_size]];
      shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
      shield-halo-radius: @standard-halo-radius;
      shield-halo-fill: @standard-halo-fill;
      shield-wrap-width: @standard-wrap-width;
      shield-line-spacing: @standard-line-spacing-size;
      shield-fill: [[label_color]];
      shield-text-dy: [[text_dy]];
      shield-unlock-image: true;
      shield-file: url('[[symbol_file]]');
      symbolonly/marker-placement: interior;
      symbolonly/marker-clip: false;
      symbolonly/marker-file: url('[[symbol_file]]');
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[ref]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: [[text_dy]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
      [int_access = 'restricted'] {
        text-opacity: @private-opacity;
        text-halo-radius: 0;
      }
    }

  operator: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
    }
    [vis_type = 'symbol-label'] {
      shield-placement: interior;
      shield-clip: false;
      shield-name: '[operator]';
      shield-size: [[label_size]];
      shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
      shield-halo-radius: @standard-halo-radius;
      shield-halo-fill: @standard-halo-fill;
      shield-wrap-width: @standard-wrap-width;
      shield-line-spacing: @standard-line-spacing-size;
      shield-fill: [[label_color]];
      shield-text-dy: [[text_dy]];
      shield-unlock-image: true;
      shield-file: url('[[symbol_file]]');
      symbolonly/marker-placement: interior;
      symbolonly/marker-clip: false;
      symbolonly/marker-file: url('[[symbol_file]]');
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[operator]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: [[text_dy]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
      [int_access = 'restricted'] {
        text-opacity: @private-opacity;
        text-halo-radius: 0;
      }
    }

  with-elevation: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
    }
    [vis_type = 'symbol-label'] {
      shield-placement: interior;
      shield-clip: false;
      shield-name: '[name]<Format face-name="Noto Sans Italic" size="9">[int_elevation]</Format>';
      shield-size: [[label_size]];
      shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
      shield-halo-radius: @standard-halo-radius;
      shield-halo-fill: @standard-halo-fill;
      shield-wrap-width: @standard-wrap-width;
      shield-line-spacing: @standard-line-spacing-size;
      shield-fill: [[label_color]];
      shield-text-dy: [[text_dy]];
      shield-unlock-image: true;
      shield-file: url('[[symbol_file]]');
      symbolnameonly/shield-placement: interior;
      symbolnameonly/shield-clip: false;
      symbolnameonly/shield-name: '[name]';
      symbolnameonly/shield-size: @standard-font-size;
      symbolnameonly/shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { symbolnameonly/shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { symbolnameonly/shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { symbolnameonly/shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { symbolnameonly/shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { symbolnameonly/shield-face-name: @[[font_type]]-fonts-bg; }
      symbolnameonly/shield-halo-radius: @standard-halo-radius;
      symbolnameonly/shield-halo-fill: @standard-halo-fill;
      symbolnameonly/shield-wrap-width: 100;
      symbolnameonly/shield-line-spacing: @standard-line-spacing-size;
      symbolnameonly/shield-fill: [[label_color]];
      symbolnameonly/shield-text-dy: [[text_dy]];
      symbolnameonly/shield-unlock-image: true;
      symbolnameonly/shield-file: url('[[symbol_file]]');
      symbolonly/marker-placement: interior;
      symbolonly/marker-clip: false;
      symbolonly/marker-file: url('[[symbol_file]]');
      textonly/text-placement: interior;
      textonly/text-name: '[name]<Format face-name="Noto Sans Italic" size="9">[int_elevation]</Format>';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius;
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-vertical-alignment: bottom;
      textonly/text-avoid-edges: true;
      nameonly/text-placement: interior;
      nameonly/text-name: '[name]';
      nameonly/text-size: [[label_size]];
      nameonly/text-wrap-width: @standard-wrap-width;
      nameonly/text-line-spacing: @standard-line-spacing-size;
      nameonly/text-fill: [[label_color]];
      nameonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { nameonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { nameonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { nameonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { nameonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { nameonly/text-face-name: @[[font_type]]-fonts-bg; }
      nameonly/text-halo-radius: @standard-halo-radius;
      nameonly/text-halo-fill: @standard-halo-fill;
      nameonly/text-avoid-edges: true;
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[name]<Format face-name="Noto Sans Italic" size="9">[int_elevation]</Format>';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: [[text_dy]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
      symbolnameonly/text-anchor-cond: '[osm_id]';
      symbolnameonly/text-placement: interior;
      symbolnameonly/text-name: '[name]';
      symbolnameonly/text-size: [[label_size]];
      symbolnameonly/text-wrap-width: @standard-wrap-width;
      symbolnameonly/text-line-spacing: @standard-line-spacing-size;
      symbolnameonly/text-fill: [[label_color]];
      symbolnameonly/text-dy: [[text_dy]];
      symbolnameonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { symbolnameonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { symbolnameonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { symbolnameonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { symbolnameonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { symbolnameonly/text-face-name: @[[font_type]]-fonts-bg; }
      symbolnameonly/text-halo-radius: @standard-halo-radius;
      symbolnameonly/text-halo-fill: @standard-halo-fill;
      textonly/text-anchor-cond: "'!'+[osm_id]";
      textonly/text-placement: interior;
      textonly/text-name: '[name]<Format face-name="Noto Sans Italic" size="9">[int_elevation]</Format>';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius;
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-vertical-alignment: bottom;
      textonly/text-avoid-edges: true;
      nameonly/text-anchor-cond: "'!'+[osm_id]";
      nameonly/text-placement: interior;
      nameonly/text-name: '[name]';
      nameonly/text-size: [[label_size]];
      nameonly/text-wrap-width: @standard-wrap-width;
      nameonly/text-line-spacing: @standard-line-spacing-size;
      nameonly/text-fill: [[label_color]];
      nameonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { nameonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { nameonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { nameonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { nameonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { nameonly/text-face-name: @[[font_type]]-fonts-bg; }
      nameonly/text-halo-radius: @standard-halo-radius;
      nameonly/text-halo-fill: @standard-halo-fill;
      nameonly/text-avoid-edges: true;
    }

  symbol-only: |
    marker-anchor-set: '[osm_id]';
    marker-placement: interior;
    marker-clip: false;
    marker-file: url('[[symbol_file]]');

  symbol-only-non-blocking: |
    marker-anchor-set: '[osm_id]';
    marker-placement: interior;
    marker-clip: false;
    marker-file: url('[[symbol_file]]');
    marker-allow-overlap: true;
    marker-ignore-placement: true;

  symbol-only-zoom-variant: |
    [zoom >= [[start_symbol]]] {
      marker-file: url('[[symbol_file]]');
    }

  symbol-only-halo: |
    halo/marker-anchor-set: "'halo_'+[osm_id]";
    halo/marker-line-color: white;
    halo/marker-line-width: 1.5;
    halo/marker-placement: interior;
    halo/marker-clip: false;
    halo/marker-file: url('[[symbol_file]]');
    marker-anchor-cond: "'halo_'+[osm_id]";
    marker-anchor-set: '[osm_id]';
    marker-placement: interior;
    marker-clip: false;
    marker-file: url('[[symbol_file]]');
    marker-allow-overlap: true;
    marker-ignore-placement: true;

  symbol-sidelabel-halo: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      halo/marker-anchor-set: "'halo_'+[osm_id]";
      halo/marker-line-color: white;
      halo/marker-line-width: 1.5;
      halo/marker-placement: interior;
      halo/marker-clip: false;
      halo/marker-file: url('[[symbol_file]]');
      marker-anchor-cond: "'halo_'+[osm_id]";
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
      marker-allow-overlap: true;
      marker-ignore-placement: true;
    }
    [vis_type = 'symbol-label'] {
      halo/marker-anchor-set: "'halo_'+[osm_id]";
      halo/marker-line-color: white;
      halo/marker-line-width: 1.5;
      halo/marker-placement: interior;
      halo/marker-clip: false;
      halo/marker-file: url('[[symbol_file]]');
      marker-anchor-cond: "'halo_'+[osm_id]";
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('[[symbol_file]]');
      marker-allow-overlap: true;
      marker-ignore-placement: true;

      sidelabel/text-anchor-cond: '[osm_id]';
      sidelabel/text-allow-overlap-anchor: "'halo_'+[osm_id]";
      sidelabel/text-placement: interior;
      sidelabel/text-name: '[int_maxheight]';
      sidelabel/text-size: 8;
      sidelabel/text-wrap-width: @standard-wrap-width;
      sidelabel/text-line-spacing: @standard-line-spacing-size;
      sidelabel/text-fill: [[label_color]];
      sidelabel/text-dx: [[text_dy]];
      sidelabel/text-horizontal-alignment: right;
      sidelabel/text-face-name: @[[font_type]]-fonts;
      sidelabel/text-halo-radius: @standard-halo-radius * [[halo_radius]];
      sidelabel/text-halo-fill: @standard-halo-fill;
    }
    [vis_type = 'label-for-symbol'] {
      sidelabel/text-anchor-cond: '[osm_id]';
      sidelabel/text-allow-overlap-anchor: "'halo_'+[osm_id]";
      sidelabel/text-placement: interior;
      sidelabel/text-name: '[int_maxheight]';
      sidelabel/text-size: 8;
      sidelabel/text-wrap-width: @standard-wrap-width;
      sidelabel/text-line-spacing: @standard-line-spacing-size;
      sidelabel/text-fill: [[label_color]];
      sidelabel/text-dx: [[text_dy]];
      sidelabel/text-horizontal-alignment: right;
      sidelabel/text-face-name: @[[font_type]]-fonts;
      sidelabel/text-halo-radius: @standard-halo-radius * [[halo_radius]];
      sidelabel/text-halo-fill: @standard-halo-fill;
    }

  symbol-only-halo-rotation: |
    halo/marker-anchor-set: "'halo_'+[osm_id]";
    halo/marker-line-color: white;
    halo/marker-line-width: 1.5;
    halo/marker-placement: interior;
    halo/marker-clip: false;
    halo/marker-file: url('[[symbol_file]]');
    halo/marker-transform: 'rotate([int_barrier_orientation])';
    marker-anchor-cond: "'halo_'+[osm_id]";
    marker-anchor-set: '[osm_id]';
    marker-placement: interior;
    marker-clip: false;
    marker-file: url('[[symbol_file]]');
    marker-allow-overlap: true;
    marker-ignore-placement: true;
    marker-transform: 'rotate([int_barrier_orientation])';

  symbol-only-halo-zoom-variant: |
    [zoom >= [[start_symbol]]] {
      halo/marker-file: url('[[symbol_file]]');
      marker-file: url('[[symbol_file]]');
    }

  symbol-only-access-light: |
    marker-anchor-set: '[osm_id]';
    marker-placement: interior;
    marker-clip: false;
    marker-file: url('[[symbol_file]]');
    [int_access = 'restricted'] {
      marker-opacity: @private-opacity;
    }

  symbol-only-attribute-variant: |
    [[attribute_selector]] {
      marker-file: url('[[symbol_file]]');
    }

  symbol-only-zoom-attribute-variant: |
    [zoom >= [[start_symbol]]][[attribute_selector]] {
      marker-file: url('[[symbol_file]]');
    }

  symbol-only-halo-attribute-variant: |
    [[attribute_selector]] {
      halo/marker-file: url('[[symbol_file]]');
      marker-file: url('[[symbol_file]]');
    }

  symbol-only-halo-zoom-attribute-variant: |
    [zoom >= [[start_symbol]]][[attribute_selector]] {
      halo/marker-file: url('[[symbol_file]]');
      marker-file: url('[[symbol_file]]');
    }

  dot-only: |
    marker-anchor-set: '[osm_id]';
    marker-width: [[marker_width]];
    marker-line-width: 0;
    marker-fill: [[symbol_color]];
    marker-placement: interior;

  dot-only-zoom-size-variant: |
    [zoom >= [[start_symbol]]] {
      marker-width: [[marker_width]];
    }

  spring: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'] {
      marker-anchor-set: '[osm_id]';
      marker-placement: interior;
      marker-clip: false;
      marker-file: url('symbols/water/[[feature]]_small.svg');
      [zoom >= 16] { marker-file: url('symbols/water/[[feature]].svg'); }
      [intermittent = 'yes'] {
        marker-file: url('symbols/water/[[feature]]_small_intermittent.svg');
        [zoom >= 16] { marker-file: url('symbols/water/[[feature]]_intermittent.svg'); }
      }
    }
    [vis_type = 'symbol-label'] {
      shield-anchor-set: '[osm_id]';
      shield-placement: interior;
      shield-clip: false;
      shield-name: '[name]';
      shield-size: [[label_size]];
      shield-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { shield-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { shield-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { shield-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { shield-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { shield-face-name: @[[font_type]]-fonts-bg; }
      shield-halo-radius: @standard-halo-radius;
      shield-halo-fill: @standard-halo-fill;
      shield-wrap-width: @standard-wrap-width;
      shield-line-spacing: @standard-line-spacing-size;
      shield-fill: [[label_color]];
      shield-text-dy: [[text_dy]];
      shield-unlock-image: true;
      shield-file: url('symbols/water/[[feature]]_small.svg');
      symbolonly/marker-anchor-set: '[osm_id]';
      symbolonly/marker-placement: interior;
      symbolonly/marker-clip: false;
      symbolonly/marker-file: url('symbols/water/[[feature]]_small.svg');
      textonly/text-placement: interior;
      textonly/text-name: '[name]';
      textonly/text-size: [[label_size]];
      textonly/text-wrap-width: @standard-wrap-width;
      textonly/text-line-spacing: @standard-line-spacing-size;
      textonly/text-fill: [[label_color]];
      textonly/text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { textonly/text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { textonly/text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { textonly/text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { textonly/text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { textonly/text-face-name: @[[font_type]]-fonts-bg; }
      textonly/text-halo-radius: @standard-halo-radius;
      textonly/text-halo-fill: @standard-halo-fill;
      textonly/text-avoid-edges: true;
      [zoom >= 16] {
        shield-file: url('symbols/water/[[feature]].svg');
        symbolonly/marker-file: url('symbols/water/[[feature]].svg');
      }
      [intermittent = 'yes'] {
        shield-file: url('symbols/water/[[feature]]_small_intermittent.svg');
        symbolonly/marker-file: url('symbols/water/[[feature]]_small_intermittent.svg');
        [zoom >= 16] {
          shield-file: url('symbols/water/[[feature]]_intermittent.svg');
          symbolonly/marker-file: url('symbols/water/[[feature]]_intermittent.svg');
        }
      }
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: [[text_dy]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
    }
    [vis_type = 'label-only'] {
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
    }

  spring-connected: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'],
    [vis_type = 'symbol-label'] {
      marker-anchor-set: '[osm_id]';
      marker-fill: [[symbol_color]];
      marker-allow-overlap: true;
      marker-line-width: 0;
      marker-width: 1.5;
      marker-height: 1.5;
      [zoom >= 16] {
        marker-width: 2.5;
        marker-height: 2.5;
      }
      marker-ignore-placement: true;
    }
    [vis_type = 'symbol-label'] {
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
      text-dy: 7;
    }
    [vis_type = 'label-for-symbol'] {
      text-anchor-cond: '[osm_id]';
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-dy: 7;
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
    }

  large-symbol-variant: |
    [zoom >= [[start_symbol]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: '[osm_id]';
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-anchor-set: '[osm_id]';
        shield-file: url('[[symbol_file]]');
        shield-size: [[label_size]];
        shield-text-dy: [[text_dy]];
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-dy: [[text_dy]];
        text-size: [[label_size]];
      }
      [vis_type = 'label-only'] { text-size: [[label_size]]; }
    }

  large-symbol-variant-peak: |
    [zoom >= [[start_symbol]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: "'peak,'+[osm_id]+',peak_'+[osm_id]";
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-anchor-set: "'peak,'+[osm_id]+',peak_'+[osm_id]";
        shield-file: url('[[symbol_file]]');
        shield-size: [[label_size]];
        shield-text-dy: [[text_dy]];
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-dy: [[text_dy]];
        text-size: [[label_size]];
      }
      [vis_type = 'label-only'] { text-size: [[label_size]]; }
    }

  large-symbol-variant-peak-viewpoint: |
    [zoom >= [[start_symbol]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'] {
        marker-anchor-set: "'peak,'+[osm_id]+',peak_'+[osm_id]";
        marker-file: url('[[symbol_file]]');
      }
      [vis_type = 'symbol-label'] {
        shield-anchor-set: "'peak,'+[osm_id]+',peak_'+[osm_id]";
        shield-file: url('[[symbol_file]]');
        shield-size: [[label_size]];
        shield-text-dy: [int_text_dy_viewpoint];
        symbolonly/marker-file: url('[[symbol_file]]');
        textonly/text-size: [[label_size]];
      }
      [vis_type = 'label-for-symbol'] {
        text-anchor-cond: '[osm_id]';
        text-dy: [int_text_dy_viewpoint];
        text-size: [[label_size]];
      }
      [vis_type = 'label-only'] { text-size: [[label_size]]; }
    }



  bridges: |
    [vis_type = 'label-only'] {
      text-name: '[name]';
      text-size: [[label_size]];
      text-wrap-width: 30; // 3 em
      text-line-spacing: -1.2; // -0.15 em
      text-fill: [[label_color]];
      text-face-name: @book-fonts;
      [font = 'jp'] { text-face-name: @book-fonts-jp; }
      [font = 'tc'] { text-face-name: @book-fonts-tc; }
      [font = 'kr'] { text-face-name: @book-fonts-kr; }
      [font = 'ur'] { text-face-name: @book-fonts-ur; }
      [font = 'bg'] { text-face-name: @book-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
      text-min-distance: 2;
      text-wrap-width: 30;
      text-placement: interior;
      [way_pixels > 250] {
        text-size: 11;
        text-wrap-width: 33; // 3 em
        text-line-spacing: -1.35; // -0.15 em
      }
      [way_pixels > 1000] {
        text-size: 12;
        text-wrap-width: 36; // 3 em
        text-line-spacing: -1.65; // -0.15 em
        text-halo-radius: @standard-halo-radius * 1.5;
      }
      [way_pixels > 4000] {
        text-size: 13;
        text-wrap-width: 39; // 3 em
        text-line-spacing: -1.80; // -0.15 em
      }
      [way_pixels > 16000] {
        text-size: 14;
        text-wrap-width: 42; // 3 em
        text-line-spacing: -1.95; // -0.15 em
        text-halo-radius: 2;
      }
    }

  label-offset: |
    [vis_type = 'label-only'] {
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-dy: [[text_dy]];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
    }

  label-tree: |
    text-placement: interior;
    text-name: '[name]';
    text-size: [[label_size]];
    text-dy: [int_text_offset_tree];
    text-wrap-width: @standard-wrap-width;
    text-line-spacing: @standard-line-spacing-size;
    text-fill: [[label_color]];
    text-face-name: @[[font_type]]-fonts;
    [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
    [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
    [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
    [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
    [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
    text-halo-radius: @standard-halo-radius;
    text-halo-fill: @standard-halo-fill;

  viewpoint: |
    [vis_type = 'symbol-for-label'],
    [vis_type = 'symbol-only'],
    [vis_type = 'symbol-label'] {
      footprint/marker-allow-overlap-anchor: "'viewpoint,peak'";
      footprint/marker-anchor-set: "'viewpoint,viewpoint_'+[osm_id]";
      footprint/marker-width: [int_width_viewpoint];
      footprint/marker-height: [int_height_viewpoint];
      footprint/marker-line-width: 0;
      footprint/marker-fill: "#ffffff";
      footprint/marker-opacity: 0.0;
      footprint/marker-placement: interior;
      footprint/marker-transform: 'translate([int_offset_x_viewpoint], [int_offset_y_viewpoint])';
      center/marker-anchor-cond: "'viewpoint_'+[osm_id]";
      center/marker-allow-overlap-anchor: "'viewpoint,peak'";
      center/marker-anchor-set: "viewpoint";
      center/marker-width: 1;
      center/marker-height: 1;
      center/marker-line-width: 0;
      center/marker-fill: "#ffffff";
      center/marker-opacity: 0.0;
      center/marker-placement: interior;
    }
    [vis_type = 'label-for-symbol'],
    [vis_type = 'label-only'] {
      text-placement: interior;
      text-name: '[name]';
      text-size: [[label_size]];
      text-dy: [int_text_dy_viewpoint];
      text-wrap-width: @standard-wrap-width;
      text-line-spacing: @standard-line-spacing-size;
      text-fill: [[label_color]];
      text-face-name: @[[font_type]]-fonts;
      [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
      [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
      [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
      [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
      [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
      text-halo-radius: @standard-halo-radius;
      text-halo-fill: @standard-halo-fill;
    }

  peak-variant-with-viewpoint: |
    [zoom >= [[start_symbol]]] {
      [vis_type = 'symbol-for-label'],
      [vis_type = 'symbol-only'],
      [vis_type = 'symbol-label'] {
        footprint/marker-allow-overlap-anchor: "'viewpoint,peak'";
        footprint/marker-anchor-set: "'viewpoint,viewpoint_'+[osm_id]";
        footprint/marker-width: [int_width_viewpoint];
        footprint/marker-height: [int_height_viewpoint];
        footprint/marker-line-width: 0;
        footprint/marker-fill: "#ffffff";
        footprint/marker-opacity: 0.0;
        footprint/marker-placement: interior;
        footprint/marker-transform: 'translate([int_offset_x_viewpoint], [int_offset_y_viewpoint])';
        center/marker-anchor-cond: "'viewpoint_'+[osm_id]";
        center/marker-allow-overlap-anchor: "'viewpoint,peak'";
        center/marker-anchor-set: "viewpoint";
        center/marker-width: 1;
        center/marker-height: 1;
        center/marker-line-width: 0;
        center/marker-fill: "#ffffff";
        center/marker-opacity: 0.0;
        center/marker-placement: interior;
      }
    }

  label-only: |
    text-placement: interior;
    text-name: '[name]';
    text-size: [[label_size]];
    text-wrap-width: @standard-wrap-width;
    text-line-spacing: @standard-line-spacing-size;
    text-fill: [[label_color]];
    text-face-name: @[[font_type]]-fonts;
    [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
    [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
    [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
    [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
    [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
    text-halo-radius: @standard-halo-radius;
    text-halo-fill: @standard-halo-fill;

  ref-only: |
    text-placement: interior;
    text-name: '[ref]';
    text-size: [[label_size]];
    text-wrap-width: @standard-wrap-width;
    text-line-spacing: @standard-line-spacing-size;
    text-fill: [[label_color]];
    text-face-name: @[[font_type]]-fonts;
    [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
    [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
    [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
    [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
    [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
    text-halo-radius: @standard-halo-radius;
    text-halo-fill: @standard-halo-fill;

  label-variable-size: |
    text-placement: interior;
    text-name: '[name]';
    text-size: @landcover-font-size;
    text-wrap-width: @landcover-wrap-width-size;
    text-line-spacing: @landcover-line-spacing-size;
    text-fill: [[label_color]];
    text-face-name: @[[font_type]]-fonts;
    [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
    [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
    [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
    [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
    [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
    text-halo-radius: @standard-halo-radius * [[halo_radius]];
    text-halo-fill: @standard-halo-fill;
    [way_pixels > 12000] {
      text-size: @landcover-font-size-big;
      text-wrap-width: @landcover-wrap-width-size-big;
      text-line-spacing: @landcover-line-spacing-size-big;
    }
    [way_pixels > 48000] {
      text-size: @landcover-font-size-bigger;
      text-wrap-width: @landcover-wrap-width-size-bigger;
      text-line-spacing: @landcover-line-spacing-size-bigger;
    }

  label-variable-size-water: |
    text-placement: interior;
    text-name: '[name]';
    text-size: @landcover-font-size;
    text-wrap-width: @landcover-wrap-width-size;
    text-line-spacing: @landcover-line-spacing-size;
    text-fill: [[label_color]];
    text-face-name: @[[font_type]]-fonts;
    [font = 'jp'] { text-face-name: @[[font_type]]-fonts-jp; }
    [font = 'tc'] { text-face-name: @[[font_type]]-fonts-tc; }
    [font = 'kr'] { text-face-name: @[[font_type]]-fonts-kr; }
    [font = 'ur'] { text-face-name: @[[font_type]]-fonts-ur; }
    [font = 'bg'] { text-face-name: @[[font_type]]-fonts-bg; }
    text-halo-radius: @standard-halo-radius * [[halo_radius]];
    text-halo-fill: @standard-halo-fill;
    [way_pixels > 12000] {
      text-size: @landcover-font-size-big;
      text-wrap-width: 37;
      text-line-spacing: -1.6;
    }
    [way_pixels > 48000] {
      text-size: @landcover-font-size-bigger;
      text-wrap-width: 59;
      text-line-spacing: -1.5;
    }
    [way_pixels > 192000] {
      text-size: 19;
      text-wrap-width: 95;
      text-line-spacing: -0.95;
    }


# Attributes to have as columns - together with the code to generate them.
# Only attributes referred to in features below are actually used.
# Attributes referred to in features but not in here are used as is.
#
# The attribute itself can be assumed to be in a distinct column, even if
# it is in hstore.  Any other attributes referenced in SQL might be in
# hstore only though.
#
# Attributes starting with '_' or 'int_' are assumed to be generated and
# do not derive from OSM data.  Attributes starting with 'tmp_' are not
# included in the final columns (only to be used for column substitutes)
#
# For avoiding ambiguities in subqueries, the table with the POI data on
# which these attributes are generated is named "points_all".
#
#   sql: SQL code to generate the column value
#   score: if to use this column as score for sorting
#   always: if to always generate a column for this (even if not listed in feature attributes)
#   expand: list of column names to expand an array attribute to, potentially with sql code for the expansion

attributes:
  _name_label:
    sql: carto_label_name(way, name, tags, E'\n')
    always: true
    expand:
      - name
      - lang
      - font
  name:
    always: true
  ref:
    always: true
  operator:
    always: true
  brand:
    always: true
  osm_id:
    always: true
  int_access:
    sql: >-
      CASE WHEN amenity IN ('parking', 'parking_entrance', 'bicycle_parking', 'motorcycle_parking') THEN
        CASE WHEN "access" IN ('private', 'no', 'permit', 'delivery') THEN 'restricted' ELSE 'yes' END
      ELSE
        CASE WHEN "access" IN ('private', 'no', 'customers', 'permit', 'delivery') THEN 'restricted' ELSE 'yes' END
      END
    attributes:
      - access
      - amenity
  int_bench_type:
    sql: >-
      (CASE
        WHEN "material" IN ('wood', 'plastic') THEN 'light'
        WHEN "material" IN ('stone', 'concrete', 'metal', 'steel') THEN 'heavy'
        ELSE 'unknown'
      END || '+' ||
      CASE
        WHEN "backrest" IN ('yes') THEN 'backrest'
        WHEN "backrest" IN ('no') THEN 'nobackrest'
        ELSE 'unknown'
      END)
    attributes:
      - backrest
      - material
  int_gate_type:
    sql: >-
      (CASE
        WHEN "gate:type" IN ('sliding', 'rolling') THEN 'sliding'
      END)
    attributes:
      - "gate:type"
  int_barrier_orientation:
    sql: >-
      COALESCE(
        (SELECT
            CASE
              WHEN direction BETWEEN 45 AND 135 THEN -90.0
              WHEN direction BETWEEN 225 AND 315 THEN -90.0
            END AS direction
          FROM
            (SELECT
                SUM(weight * (direction - floor(direction / 360.0) * 360.0))/SUM(weight) AS direction
              FROM
                (SELECT
                    CASE WHEN ST_IsCollection(way) THEN
                      DEGREES(ST_Azimuth(ST_StartPoint(St_GeometryN(ST_CollectionExtract(way, 2), 1)), ST_EndPoint(St_GeometryN(ST_CollectionExtract(way, 2), 1))))
                    ELSE
                      DEGREES(ST_Azimuth(ST_StartPoint(way), ST_EndPoint(way)))
                    END +
                    CASE WHEN weight > 1.0 THEN 90.0 ELSE 0.0 END AS direction,
                    weight
                  FROM
                    (SELECT
                        ST_Intersection(line.way, ST_Expand(points_all.way, 0.1)) AS way,
                        CASE
                          WHEN line.barrier IN ('chain', 'city_wall', 'ditch', 'fence', 'guard_rail',
                                                'handrail', 'retaining_wall', 'wall') THEN 10.0
                          ELSE 1.0
                        END AS weight
                      FROM planet_osm_line line
                      WHERE ST_DWithin(line.way, points_all.way, 0.1)
                        AND (
                          line.barrier IN ('chain', 'city_wall', 'ditch', 'fence', 'guard_rail',
                                           'handrail', 'retaining_wall', 'wall') OR
                          line.highway IN ('motorway', 'motorway_link', 'trunk', 'trunk_link', 'primary', 'primary_link', 'secondary',
                                           'secondary_link', 'tertiary', 'tertiary_link', 'residential', 'unclassified', 'service',
                                           'living_street', 'pedestrian', 'steps', 'road', 'bridleway', 'footway', 'cycleway', 'path',
                                           'track', 'busway', 'bus_guideway')
                        )

                    ) AS lines_raw
                ) AS directions
            ) AS direction_avg
        ),
        0.0
      )
  int_lighthouse_type:
    sql: >-
      (CASE
        WHEN "seamark:type" IN ('light_major', 'light_minor') THEN 'active' ELSE 'inactive'
      END) ||
      (CASE
        WHEN "seamark:light:character" IS NOT NULL AND "seamark:light:character" != 'F' THEN '+variable'
      ELSE
        ''
      END)
    attributes:
      - "seamark:type"
      - "seamark:light:character"
  int_tower_type:
    sql: >-
      (CASE
        WHEN man_made = 'tower' THEN
          (CASE
            WHEN "tower:type" IN ('bell_tower') THEN
              'bell_tower' ||
              (CASE WHEN "roof:shape" IN ('flat', 'gabled', 'hipped', 'pyramidal') THEN '+' || "roof:shape" ELSE '' END) ||
              (CASE WHEN "tower:construction" IN ('lattice') THEN '+' || "tower:construction" ELSE '' END)
          ELSE
            (CASE
              WHEN "tower:construction" IN ('dish', 'dome', 'freestanding', 'lattice') THEN "tower:construction" ELSE 'unknown'
            END) ||
            (CASE
              WHEN "tower:construction" IN ('dish', 'dome') THEN
                -- dish and dome are only allowed with communication/radar
                (CASE
                  WHEN "tower:type" IN ('communication', 'radar') THEN '+' || "tower:type"
                ELSE ''
                END)
            ELSE
                (CASE
                  WHEN "tower:type" IN ('cooling', 'communication', 'defensive', 'lighting', 'minaret', 'observation', 'radar', 'siren', 'watchtower') THEN '+' || "tower:type"
                ELSE ''
                END)
            END)
          END)
        WHEN man_made = 'mast' THEN
          (CASE
            WHEN "tower:construction" IN ('freestanding', 'guyed_lattice', 'guyed_tube', 'lattice') THEN "tower:construction" ELSE 'unknown'
          END) ||
          (CASE
            WHEN "tower:type" IN ('communication', 'lighting', 'radar', 'siren') THEN '+' || "tower:type" ELSE ''
          END)
      END)
    attributes:
      - "roof:shape"
      - "tower:type"
      - "tower:construction"
  int_petroleum_well_type:
    sql: >-
      (CASE
        WHEN pump = 'yes' THEN (CASE WHEN disused = 'yes' THEN 'disused+pump' ELSE 'pump' END)
      ELSE
        (CASE
          WHEN disused = 'yes' THEN (CASE WHEN substance IN ('oil', 'gas') THEN 'disused+' || substance ELSE 'disused' END)
        ELSE
          (CASE WHEN substance IN ('oil', 'gas') THEN substance END)
        END)
      END)
    attributes:
      - substance
      - disused
      - pump
  int_text_offset_tree:
    sql: >-
      ROUND(GREATEST(
        carto_barrier_line_width('tree', z(!scale_denominator!)),
        LEAST(carto_tree_diameter_mapped('tree', diameter_crown, height, circumference, diameter, !bbox!, !scale_denominator!), 60)
      )*0.5)+2.0
    attributes:
      - diameter_crown
      - height
      - circumference
      - diameter
  height:
    sql: CASE WHEN height ~ '^\d{1,3}(\.\d+)?( m)?$' THEN (SUBSTRING(height, '^(\d{1,3}(\.\d+)?)( m)?$'))::NUMERIC END
    score: true
    attributes:
      - height
  intermittent:
    sql: CASE WHEN tags->'intermittent' IN ('yes') OR tags->'seasonal' IN ('yes') THEN 'yes' END
  drinking_water:
    sql: CASE WHEN amenity = 'drinking_water' OR (tags->'drinking_water') = 'yes' THEN 'yes' END
    attributes:
      - amenity
  religion:
    sql: CASE WHEN religion IN ('christian') AND tags->'denomination' IN ('jehovahs_witness', 'la_luz_del_mundo', 'iglesia_ni_cristo', 'mormon') THEN NULL ELSE religion END
    attributes:
      - religion
  int_elevation:
    sql: CASE WHEN (tags ? 'ele') AND tags->'ele' ~ '^-?\d{1,4}(\.\d+)?$' THEN CONCAT(E'\n', REPLACE(ROUND((tags->'ele')::NUMERIC)::TEXT, '-', U&'\2212'), U&'\00A0', 'm') END
  int_maxheight:
    sql: CASE WHEN (tags ? 'maxheight') AND tags->'maxheight' ~ '^-?\d{1,4}(\.\d+)?$' THEN CONCAT(TO_CHAR((tags->'maxheight')::NUMERIC, 'FM90.0'), 'm') END
  shop:
    sql: >-
      CASE WHEN shop IN ('supermarket', 'bag', 'bakery', 'beauty', 'bed', 'bookmaker', 'books', 'butcher', 'carpet', 'clothes', 'computer',
                         'confectionery', 'fashion', 'convenience', 'department_store', 'doityourself', 'hardware', 'fabric', 'fishmonger', 'florist',
                         'garden_centre', 'hairdresser', 'hifi', 'car', 'car_repair', 'bicycle', 'mall', 'pet',
                         'photo', 'photo_studio', 'photography', 'seafood', 'shoes', 'alcohol', 'gift', 'furniture', 'kiosk',
                         'mobile_phone', 'motorcycle', 'musical_instrument', 'newsagent', 'optician', 'jewelry', 'jewellery',
                         'electronics', 'chemist', 'toys', 'travel_agency', 'car_parts', 'greengrocer', 'farm', 'stationery',
                         'laundry', 'dry_cleaning', 'beverages', 'perfumery', 'cosmetics', 'variety_store', 'wine', 'outdoor',
                         'copyshop', 'sports', 'deli', 'tobacco', 'art', 'tea', 'coffee', 'tyres', 'pastry', 'chocolate',
                         'music', 'medical_supply', 'dairy', 'video_games', 'houseware', 'ticket', 'charity', 'second_hand',
                         'interior_decoration', 'video', 'paint', 'massage', 'trade', 'wholesale') THEN shop
        ELSE 'other' END
    attributes:
      - shop
  int_symbol_geometry:
    sql: >-
      (SELECT
          ST_Translate(
            carto_viewpoint_symbol_from_db(
              'viewpoint',
              width,
              width_px,
              azimuth,
              angle
            ),
            ST_X(point),
            ST_Y(point)
          ) AS way
        FROM
          (SELECT
              CASE WHEN ((width_px % 2) = 0) THEN
                ST_SnapToGrid(
                  way,
                  NULLIF(!scale_denominator!*0.001*0.28,0), NULLIF(!scale_denominator!*0.001*0.28,0))
              ELSE
                ST_SnapToGrid(
                  way,
                  0.5*NULLIF(!scale_denominator!*0.001*0.28,0), 0.5*NULLIF(!scale_denominator!*0.001*0.28,0),
                  NULLIF(!scale_denominator!*0.001*0.28,0), NULLIF(!scale_denominator!*0.001*0.28,0))
              END AS point,
              view_geometry[1] AS azimuth,
              view_geometry[2] AS angle,
              width_px,
              width_px*NULLIF(!scale_denominator!*0.001*0.28,0) AS width
            FROM
              (SELECT
                  way,
                  osm_id AS hash,
                  CASE WHEN (tags ? 'ele') AND tags->'ele' ~ '^-?\d{1,4}(\.\d+)?$' THEN 
                    (tags->'ele')::NUMERIC
                  ELSE
                    -100000.0
                  END AS elevation,
                  carto_viewpoint_direction(tags->'direction') AS view_geometry,
                  carto_barrier_line_width('viewpoint', z(!scale_denominator!)) AS width_px) AS t1
          ) AS viewpoints_raw
        WHERE width_px >= 10
      )
    expand:
      #tmp_symbol_geometry: >-
      #  int_symbol_geometry
      int_text_dy_viewpoint: >-
        GREATEST(CASE WHEN feature = 'natural_peak/viewpoint' THEN 7 ELSE 0 END, ROUND((ST_Y(way)-ST_YMin(int_symbol_geometry)) / NULLIF(!scale_denominator!*0.001*0.28,0) + 3.0))
      int_offset_x_viewpoint: >-
        ROUND((0.5*(ST_XMin(int_symbol_geometry)+ST_XMax(int_symbol_geometry)) - ST_X(way)) / NULLIF(!scale_denominator!*0.001*0.28,0))
      int_offset_y_viewpoint: >-
        ROUND((ST_Y(way) - (0.5*(ST_YMin(int_symbol_geometry)+ST_YMax(int_symbol_geometry)))) / NULLIF(!scale_denominator!*0.001*0.28,0))
      int_width_viewpoint: >-
        ROUND((ST_XMax(int_symbol_geometry)-ST_XMin(int_symbol_geometry)) / NULLIF(!scale_denominator!*0.001*0.28,0)-1.5)
      int_height_viewpoint: >-
        ROUND((ST_YMax(int_symbol_geometry)-ST_YMin(int_symbol_geometry)) / NULLIF(!scale_denominator!*0.001*0.28,0)-1.5)

# additional instances of features to generate with columns replaced - in particular for the way column
# this would allow drawing symbols from the database within the symbols/labels layer
#column_substitutes:
#  symbol-geometry:
#    way: tmp_symbol_geometry

# defaults for feature parameters

defaults:
  style: standard
  symbol_color: "#000000"
  label_color: "#000000"
  text_dy: 11
  label_size: 10
  font_type: book
  type: point+polygon
  halo_radius: 1.0
  marker_width: 0
  zoom_limit: 22


# templates for feature parameters
# these are essentially predefined collections of parameters
# and are referenced with a 'template: foo' in the features

templates:
  shop:
    attribute: shop
    style: standard-symbol-zoom-attribute-variant
    start_symbol: 18
    text_dy: 11

  label-variable-size-nobuilding:
    style: label-variable-size
    start_label: 10
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 17
    condition: (building IS NULL OR building = 'no')
    attributes:
      - building

  label-variable-size-water:
    style: label-variable-size-water
    start_label: 10
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 17
    condition: (building IS NULL OR building = 'no')
    attributes:
      - building

# These are the feature types rendered in some way with symbols or labels
# Order betweeen keys does not matter, priorities will be based on starting zoom levels
# Order within different features with the same key matters as it affects the order in the COALESCE()
# Possible parameters and defaults:
#
#   symbol_file: SVG filename, default:
#                symbols/sources/key_value_variant.svg,
#                symbols/sources/key_value.svg,
#                symbols/sources/value.svg,
#                symbols/sources/key/value.svg,
#                symbols/key_value_variant.svg,
#                symbols/key_value.svg,
#                symbols/value.svg or
#                symbols/key/value.svg if exists
#   start_symbol: Starting zoom level for symbol, default: infinity
#   start_label: Starting zoom level for label, default: infinity
#   zoom_limit: Upper zoom level limit for rendering this feature, default: infinity
#   style: default: standard
#   symbol_color: symbol color (replacing #000000 in symbol source), default: unchanged (for SVG), black (for MSS)
#   symbol_color2: second symbol color to substitute in SVGs (replacing #ff0000 in symbol source)
#   label_color: label color, default: black
#   text_dy: text offset for label above/below symbol, default: 11
#   type: point, line, polygon, convex_hull or pp (point and polygon) or all.  default: pp
#   snap: snap coordinates to pixel grid in SQL for this feature (to facilitate precise augmentation with text)
#         either 'even' or 'odd', default: off
#   condition: SQL filter condition, no default
#   attributes: Attributes needed by the feature - either as a list or with an SQL condition, no default
#   variants: Rendering variants of this features (with different starting zoom levels or condition)
#             Order of these matters, it determines priorities in case of equal starting zoom levels
#   modifications: Rendering variants in styling only with no difference in starting zoom levels

features:
  amenity=shelter:
    style: with-elevation
    symbol_file: symbols/sources/shelter/shelter.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 16
    start_label: 17
    modifications:
      public_transport:
        attribute: "shelter_type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/shelter/public_transport.svg
        text_dy: 9
    attributes:
      int_elevation: (tags->'shelter_type' NOT IN ('public_transport') OR (tags->'shelter_type') IS NULL)
      shelter_type:
  tourism=alpine_hut:
    style: with-elevation
    symbol_file: symbols/sources/shelter/alpine_hut.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 13
    start_label: 14
    attributes:
      - int_elevation
  tourism=wilderness_hut:
    style: with-elevation
    symbol_file: symbols/sources/shelter/wilderness_hut.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 13
    start_label: 14
    attributes:
      - int_elevation
  tourism=charlet:
    symbol_file: symbols/sources/accommodation/chalet.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
  tourism=hostel:
    symbol_file: symbols/sources/accommodation/hostel.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
  tourism=hotel:
    symbol_file: symbols/sources/accommodation/hotel.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
  tourism=motel:
    symbol_file: symbols/sources/accommodation/motel.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
    text_dy: 13
  tourism=guest_house:
    symbol_file: symbols/sources/accommodation/guest_house.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
  tourism=apartment:
    symbol_file: symbols/sources/accommodation/apartment.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 18
    start_label: 18

  tourism=information:
    symbol_file: symbols/sources/tourism/office.svg
    symbol_color: office-icon
    label_color: office-text
    start_symbol: 17
    start_label: 17
    condition: (tags->'information' IN ('audioguide', 'board', 'guidepost', 'map', 'office', 'sign', 'tactile_map', 'terminal', 'visitor_centre'))
    attributes:
      - information
    variants:
      information=audioguide:
        condition: information IN ('audioguide')
        symbol_file: symbols/sources/tourism/audioguide.svg
        symbol_color: man-made-icon
        label_color: man-made-text
        start_symbol: 19
        start_label: 19
      information=board:
        condition: information IN ('board')
        symbol_file: symbols/sources/tourism/board.svg
        symbol_color: man-made-icon
        label_color: man-made-text
        start_symbol: 19
        start_label: 19
        text_dy: 10
      information=sign:
        condition: information IN ('sign')
        symbol_file: symbols/sources/tourism/sign.svg
        symbol_color: man-made-icon
        label_color: man-made-text
        start_symbol: 19
        start_label: 19
        text_dy: 10
      information=guidepost:
        condition: information IN ('guidepost')
        symbol_file: symbols/sources/tourism/guidepost.svg
        symbol_color: man-made-icon
        label_color: man-made-text
        start_symbol: 19
        start_label: 19
      information=map:
        condition: information IN ('map', 'tactile_map')
        symbol_file: symbols/sources/tourism/map.svg
        symbol_color: man-made-icon
        label_color: man-made-text
        start_symbol: 19
        start_label: 19
        text_dy: 10
      information=terminal:
        condition: information IN ('terminal')
        symbol_file: symbols/sources/tourism/terminal.svg
        symbol_color: man-made-icon
        label_color: man-made-text
        start_symbol: 19
        start_label: 19
      information=visitor_centre:
        condition: information IN ('visitor_centre')
        symbol_file: symbols/sources/tourism/visitor_centre.svg
        symbol_color: amenity-icon
        label_color: amenity-text
        start_symbol: 17
        start_label: 17
        text_dy: 11
  amenity=atm:
    style: operator
    symbol_file: symbols/sources/amenity/atm.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  amenity=bank:
    symbol_file: symbols/sources/amenity/bank.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
    text_dy: 9
  amenity=bar:
    symbol_file: symbols/sources/amenity/bar.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
    text_dy: 13
  amenity=bbq:
    symbol_file: symbols/sources/amenity/bbq.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  amenity=cafe:
    symbol_file: symbols/sources/amenity/cafe.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
  amenity=ice_cream:
    symbol_file: symbols/sources/shop/ice_cream.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
  amenity=nightclub:
    symbol_file: symbols/sources/amenity/nightclub.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  amenity=pub:
    symbol_file: symbols/sources/amenity/pub.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
  amenity=biergarten:
    symbol_file: symbols/sources/amenity/biergarten.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
  amenity=restaurant:
    symbol_file: symbols/sources/amenity/restaurant.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
  amenity=food_court:
    symbol_file: symbols/sources/amenity/restaurant.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17
  amenity=fast_food:
    symbol_file: symbols/sources/amenity/fast_food.svg
    symbol_color: gastronomy-icon
    label_color: gastronomy-text
    start_symbol: 17
    start_label: 17

  amenity=fire_station:
    symbol_file: symbols/sources/amenity/fire_station.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 16
    start_label: 17
  amenity=cinema:
    symbol_file: symbols/sources/amenity/cinema.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 16
    start_label: 17
  tourism=museum:
    symbol_file: symbols/sources/tourism/museum.svg
    symbol_color: culture-icon
    label_color: culture-text
    start_symbol: 16
    start_label: 17
  amenity=library:
    symbol_file: symbols/sources/amenity/library.svg
    symbol_color: culture-icon
    label_color: culture-text
    start_symbol: 16
    start_label: 17
  amenity=courthouse:
    symbol_file: symbols/sources/amenity/courthouse.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 16
    start_label: 17
    text_dy: 13
  amenity=townhall:
    symbol_file: symbols/sources/amenity/townhall.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 16
    start_label: 17
    text_dy: 13
  amenity=police:
    symbol_file: symbols/sources/amenity/police.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 16
    start_label: 17
  amenity=prison:
    symbol_file: symbols/sources/amenity/prison.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  amenity=post_box:
    type: point
    symbol_file: symbols/sources/amenity/post_box.12.svg
    symbol_color: public-service-icon
    start_symbol: 17
  amenity=post_office:
    symbol_file: symbols/sources/amenity/post_office.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 17
    start_label: 17

  amenity=theatre:
    symbol_file: symbols/sources/amenity/theatre.svg
    symbol_color: culture-icon
    label_color: culture-text
    start_symbol: 16
    start_label: 17
  amenity=arts_centre:
    symbol_file: symbols/sources/amenity/arts_centre.svg
    symbol_color: culture-icon
    label_color: culture-text
    start_symbol: 17
    start_label: 17
  amenity=community_centre:
    symbol_file: symbols/sources/amenity/community_centre.svg
    symbol_color: culture-icon
    label_color: culture-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  amenity=social_facility:
    symbol_file: symbols/sources/amenity/social_facility.svg
    symbol_color: public-service-icon
    label_color: public-service-text
    start_symbol: 17
    start_label: 17
  amenity=shower:
    symbol_file: symbols/sources/amenity/shower.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 18
    start_label: 18
    text_dy: 10
  amenity=public_bath:
    symbol_file: symbols/sources/amenity/public_bath.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
  amenity=toilets:
    style: symbol-only-access-light
    symbol_file: symbols/sources/amenity/toilets.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 18
    variants:
      access_yes:
        condition: int_access = 'yes'
        start_symbol: 17
    attributes:
      - int_access
  amenity=parking:
    style: symbol-only-access-light
    symbol_file: symbols/sources/transport/parking.svg
    symbol_color: transportation-icon
    start_symbol: 14
    way_pixels_min: 900
    way_pixels_start_all: 16
    variants:
      street_side:
        condition: >-
          "parking" IN ('street_side', 'lane')
        symbol_file: symbols/sources/transport/parking_small.svg
        start_symbol: 18
    modifications:
      large:
        style: symbol-only-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/transport/parking_large.svg
    condition: ("parking" IS NULL OR "parking" NOT IN ('underground'))
    snap: even
    attributes:
      int_access:
      "parking":
  amenity=parking_entrance/multi-storey:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/transport/parking_small_horizontal.svg
    symbol_color: transportation-icon
    start_symbol: 18
    condition: ("parking" IN ('multi-storey') AND ("access" IS NULL OR "access" NOT IN ('private', 'no', 'permit', 'delivery')))
    attributes:
      int_access:
      "parking":
  amenity=parking_entrance/underground:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/transport/parking_small_down.svg
    symbol_color: transportation-icon
    start_symbol: 18
    condition: ("parking" IN ('underground') AND ("access" IS NULL OR "access" NOT IN ('private', 'no', 'permit', 'delivery')))
    attributes:
      int_access:
      "parking":
  amenity=motorcycle_parking:
    style: symbol-only-access-light
    symbol_file: symbols/sources/transport/motorcycle_parking_small.svg
    symbol_color: transportation-icon
    start_symbol: 14
    way_pixels_min: 900
    way_pixels_start_all: 16
    modifications:
      large:
        style: symbol-only-zoom-variant
        start_symbol: 17
        symbol_file: symbols/sources/transport/motorcycle_parking.svg
    snap: even
    attributes:
      - int_access
  amenity=bicycle_parking:
    style: symbol-only-access-light
    symbol_file: symbols/sources/transport/bicycle_parking_small.svg
    symbol_color: transportation-icon
    start_symbol: 14
    way_pixels_min: 900
    way_pixels_start_all: 16
    modifications:
      large:
        style: symbol-only-zoom-variant
        start_symbol: 17
        symbol_file: symbols/sources/transport/bicycle_parking.svg
    snap: even
    attributes:
      - int_access
  amenity=bicycle_rental:
    symbol_file: symbols/sources/transport/bicycle_rental.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  highway=bus_stop:
    type: point
    symbol_file: symbols/sources/square.6.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 16
    start_label: 17
    text_dy: 9
    modifications:
      high_zoom:
        style: standard-symbol-zoom-variant
        symbol_file: symbols/sources/transport/bus_stop.svg
        start_symbol: 17
  amenity=bus_station:
    symbol_file: symbols/sources/transport/bus_station.svg
    symbol_color: transportation-icon
    symbol_color2: white
    label_color: transportation-text
    start_symbol: 16
    start_label: 17
  amenity=ferry_terminal:
    symbol_file: symbols/sources/transport/ferry.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 15
    start_label: 16
    text_dy: 10
    variants:
      point:
        condition: way_area IS NULL
        symbol_file: symbols/sources/transport/ferry_fill.svg
        symbol_color: transportation-icon
        symbol_color2: transportation
  amenity=car_rental:
    symbol_file: symbols/sources/transport/car_rental.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  amenity=car_wash:
    symbol_file: symbols/sources/amenity/car_wash.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  amenity=charging_station:
    symbol_file: symbols/sources/transport/charging_station.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 17
    start_label: 17
  amenity=fuel:
    symbol_file: symbols/sources/transport/fuel.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 17
    start_label: 17
  amenity=taxi:
    symbol_file: symbols/sources/transport/taxi.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 17
    start_label: 17

  emergency=life_ring:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/health/life_ring.svg
    symbol_color: health-icon
    start_symbol: 19
    modifications:
      high_zoom:
        style: symbol-only-zoom-variant
        symbol_file: symbols/sources/health/life_ring_large.svg
        start_symbol: 20
  emergency=phone:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/amenity/emergency_phone.svg
    symbol_color: amenity-icon
    start_symbol: 19
  amenity=phone:
    style: symbol-only
    symbol_file: symbols/sources/amenity/telephone.svg
    symbol_color: amenity-icon
    start_symbol: 17
  highway=elevator:
    style: symbol-only
    symbol_file: symbols/sources/transport/elevator.svg
    symbol_color: transportation-icon
    start_symbol: 18
    condition: ("access" IS NULL OR "access" NOT IN ('private', 'no', 'customers', 'permit', 'delivery'))
    attributes:
      - int_access
  highway=traffic_signals:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/traffic/light.svg
    symbol_color: traffic-light-icon
    start_symbol: 17
    modifications:
      high_zoom:
        style: symbol-only-zoom-variant
        symbol_file: symbols/sources/traffic/light.16.svg
        start_symbol: 19
  railway=crossing:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/traffic/level_crossing.svg
    symbol_color: level-crossing-icon
    start_symbol: 15
    modifications:
      high_zoom:
        style: symbol-only-zoom-variant
        symbol_file: symbols/sources/traffic/level_crossing2.svg
        start_symbol: 16
  railway=level_crossing:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/traffic/level_crossing.svg
    symbol_color: level-crossing-icon
    start_symbol: 14
    modifications:
      high_zoom:
        style: symbol-only-zoom-variant
        symbol_file: symbols/sources/traffic/level_crossing2.svg
        start_symbol: 16
  amenity=bench:
    style: symbol-only
    symbol_file: symbols/sources/amenity/bench_small.svg
    symbol_color: amenity-icon
    start_symbol: 18
    modifications:
      medium:
        style: symbol-only-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/amenity/bench_medium.svg
      medium+backrest:
        filters: >-
          [backrest = 'yes']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 19
        symbol_file: symbols/sources/amenity/bench_medium_backrest.svg
      large+unknown:
        style: symbol-only-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_unknown_unknown.svg
      large+backrest:
        filters: >-
          [int_bench_type = 'unknown+backrest']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_unknown_backrest.svg
      large+nobackrest:
        filters: >-
          [int_bench_type = 'unknown+nobackrest']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_unknown_nobackrest.svg
      large+light:
        filters: >-
          [int_bench_type = 'light+unknown']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_light_unknown.svg
      large+heavy:
        filters: >-
          [int_bench_type = 'heavy+unknown']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_heavy_unknown.svg
      large+light+backrest:
        filters: >-
          [int_bench_type = 'light+backrest']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_light_backrest.svg
      large+light+nobackrest:
        filters: >-
          [int_bench_type = 'light+nobackrest']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_light_nobackrest.svg
      large+heavy+backrest:
        filters: >-
          [int_bench_type = 'heavy+backrest']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_heavy_backrest.svg
      large+heavy+nobackrest:
        filters: >-
          [int_bench_type = 'heavy+nobackrest']
        style: symbol-only-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/bench_heavy_nobackrest.svg
    attributes:
      - int_bench_type
      - backrest
  amenity=lounger:
    style: symbol-only
    symbol_file: symbols/sources/amenity/bench_small.svg
    symbol_color: amenity-icon
    start_symbol: 18
    modifications:
      medium:
        style: symbol-only-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/amenity/lounger_medium.svg
      large:
        style: symbol-only-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/amenity/lounger.svg
  amenity=waste_basket:
    type: point
    style: symbol-only
    symbol_file: symbols/sources/amenity/waste_basket.svg
    symbol_color: amenity-icon
    start_symbol: 19
    variants:
      recycling:
        condition: waste IN ('recycling')
        symbol_file: symbols/sources/amenity/recycling_basket.svg
    attributes:
      - waste
  amenity=waste_disposal:
    style: symbol-only-access-light
    symbol_file: symbols/sources/amenity/waste_disposal.svg
    symbol_color: amenity-icon
    start_symbol: 18
    attributes:
      - int_access
  amenity=recycling:
    style: access-light
    symbol_file: symbols/sources/amenity/recycling.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 19
    start_label: 19
    text_dy: 10
    variants:
      centre:
        style: access-light
        condition: recycling_type IN ('centre')
        start_symbol: 17
        start_label: 17
        text_dy: 13
        symbol_file: symbols/sources/amenity/recycling_centre.svg
      container:
        style: symbol-only-access-light
        condition: recycling_type IN ('container')
        start_symbol: 18
        symbol_file: symbols/sources/amenity/recycling_container.svg
    attributes:
      - int_access
      - recycling_type
  barrier=gate:
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/gate.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      small+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-attribute-variant
        symbol_file: symbols/sources/barrier/gate_noaccess.svg
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/gate_large.svg
      large+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/gate_large_noaccess.svg
      sliding:
        filters: >-
          [int_gate_type = 'sliding']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/sliding_gate.svg
      sliding+noaccess:
        filters: >-
          [int_gate_type = 'sliding'][int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/sliding_gate_noaccess.svg
      sliding+large:
        filters: >-
          [int_gate_type = 'sliding']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/sliding_gate_large.svg
      sliding+large+noaccess:
        filters: >-
          [int_gate_type = 'sliding'][int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/sliding_gate_large_noaccess.svg
    attributes:
      - int_access
      - int_gate_type
  barrier=lift_gate:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/liftgate.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      small+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-attribute-variant
        symbol_file: symbols/sources/barrier/liftgate_noaccess.svg
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/liftgate_large.svg
      large+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/liftgate_large_noaccess.svg
    attributes:
      - int_access
  barrier=swing_gate:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/swing_gate.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      small+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-attribute-variant
        symbol_file: symbols/sources/barrier/swing_gate_noaccess.svg
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/swing_gate_large.svg
      large+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/swing_gate_large_noaccess.svg
    attributes:
      - int_access
  barrier=cycle_barrier:
    type: point
    style: symbol-only-halo-rotation
    symbol_file: symbols/sources/barrier/cycle_barrier.svg
    symbol_color: gate-icon
    start_symbol: 18
    attributes:
      - int_barrier_orientation
  barrier=stile:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/stile.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/stile_large.svg
      large+squeezer:
        filters: >-
          [stile = 'squeezer']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/stile_squeezer.svg
    attributes:
      - stile
  barrier=cattle_grid:
    type: point
    style: symbol-only-halo-rotation
    symbol_file: symbols/sources/barrier/cattle_grid.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/cattle_grid_large.svg
    attributes:
      - int_barrier_orientation
  barrier=kissing_gate:
    type: point
    style: symbol-only-halo-rotation
    symbol_file: symbols/sources/barrier/kissing_gate.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/kissing_gate_circular_large.svg
      large+triangular:
        filters: >-
          [kissing_gate = 'triangular_profile']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/kissing_gate_triangular_large.svg
      large+square:
        filters: >-
          [kissing_gate = 'square_profile']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/kissing_gate_square_large.svg
    attributes:
      - int_barrier_orientation
      - kissing_gate
  barrier=chain:
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/chain.svg
    symbol_color: gate-icon
    start_symbol: 18
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/chain_large.svg
  barrier=height_restrictor:
    type: point
    style: symbol-sidelabel-halo
    symbol_file: symbols/sources/barrier/height_restrictor.svg
    symbol_color: gate-icon
    start_symbol: 18
    start_label: 20
    text_dy: 8
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/height_restrictor_large.svg
    attributes:
      - int_maxheight
  barrier=sliding_gate:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/gate.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      small+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-attribute-variant
        symbol_file: symbols/sources/barrier/gate_noaccess.svg
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/sliding_gate.svg
      large+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/sliding_gate_noaccess.svg
      xlarge:
        style: symbol-only-halo-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/sliding_gate_large.svg
      xlarge+noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-zoom-attribute-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/sliding_gate_large_noaccess.svg
    attributes:
      - int_access
  barrier=turnstile:
    type: point
    style: symbol-only-halo-rotation
    symbol_file: symbols/sources/barrier/turnstile.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/turnstile_large.svg
    attributes:
      - int_barrier_orientation
  barrier=full-height_turnstile:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/turnstile.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/turnstile_large.svg
      xlarge:
        style: symbol-only-halo-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/full_height_turnstile.svg
  barrier=wicket_gate:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/wicket_gate.svg
    symbol_color: gate-icon
    start_symbol: 19
    modifications:
      noaccess:
        filters: >-
          [int_access = 'restricted']
        style: symbol-only-halo-attribute-variant
        symbol_file: symbols/sources/barrier/wicket_gate_noaccess.svg
    attributes:
      - int_access
  barrier=hampshire_gate:
    type: point
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/hampshire_gate.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/barrier/hampshire_gate_large.svg
  barrier=block:
    style: symbol-only-halo
    symbol_file: symbols/sources/barrier/block.svg
    symbol_color: bollard-icon
    start_symbol: 17
    modifications:
      medium:
        style: symbol-only-halo-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/block_medium.svg
        symbol_color: gate-icon
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/block_large.svg
        symbol_color: gate-icon
  barrier=log:
    type: point
    style: symbol-only-halo-rotation
    symbol_file: symbols/sources/barrier/log.svg
    symbol_color: gate-icon
    start_symbol: 17
    modifications:
      medium:
        style: symbol-only-halo-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/barrier/log_medium.svg
      large:
        style: symbol-only-halo-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/barrier/log_large.svg
    attributes:
      - int_barrier_orientation
  barrier=bollard:
    type: point
    style: dot-only
    marker_width: 3
    symbol_color: bollard-icon
    start_symbol: 17
    modifications:
      high_zoom:
        style: dot-only-zoom-size-variant
        marker_width: 4
        start_symbol: 18
  man_made=planter:
    type: point
    style: symbol-only-non-blocking
    symbol_file: symbols/sources/man_made/planter_small.svg
    symbol_color: man-made-icon
    symbol_color2: planter-fill
    start_symbol: 18
    modifications:
      medium:
        style: symbol-only-zoom-variant
        start_symbol: 19
        symbol_file: symbols/sources/man_made/planter.svg
      large:
        style: symbol-only-zoom-variant
        start_symbol: 20
        symbol_file: symbols/sources/man_made/planter_large.svg

  tourism=viewpoint:
    type: point
    style: viewpoint
    label_color: amenity-text
    start_symbol: 16
    start_label: 16
    attributes:
      - int_text_dy_viewpoint
      - int_offset_x_viewpoint
      - int_offset_y_viewpoint
      - int_width_viewpoint
      - int_height_viewpoint

  barrier=toll_booth:
    symbol_file: symbols/sources/transport/toll_booth.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 16
    start_label: 17
    text_dy: 13
  tourism=artwork:
    symbol_file: symbols/sources/tourism/artwork.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 17
    start_label: 17
  tourism=camp_site:
    symbol_file: symbols/sources/accommodation/camping.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  tourism=caravan_site:
    symbol_file: symbols/sources/accommodation/caravan_park.svg
    symbol_color: accommodation-icon
    label_color: accommodation-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  railway=subway_entrance:
    style: ref
    symbol_file: symbols/sources/entrance.10.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 18
    start_label: 19
    text_dy: 10
  railway=station:
    symbol_file: symbols/sources/square.4.svg
    symbol_color: station-icon
    label_color: station-text
    start_symbol: 12
    start_label: 14
    font_type: bold
    halo_radius: 1.5
    text_dy: 9
    modifications:
      size_6:
        style: standard-symbol-zoom-variant
        start_symbol: 13
        symbol_file: symbols/sources/square.6.svg
      size_9:
        style: standard-symbol-zoom-variant
        start_symbol: 15
        symbol_file: symbols/sources/square.9.svg
        text_dy: 10
        label_size: 11
  railway=halt:
    type: point
    symbol_file: symbols/sources/square.4.svg
    symbol_color: station-icon
    label_color: station-text
    start_symbol: 13
    start_label: 15
    font_type: bold
    halo_radius: 1.5
    text_dy: 7
    modifications:
      size_6:
        style: standard-symbol-zoom-variant
        start_symbol: 15
        symbol_file: symbols/sources/square.6.svg
  railway=tram_stop:
    type: point
    symbol_file: symbols/sources/square.4.svg
    symbol_color: station-icon
    label_color: station-text
    start_symbol: 13
    start_label: 16
    halo_radius: 1.5
    text_dy: 7
    modifications:
      size_6:
        style: standard-symbol-zoom-variant
        start_symbol: 15
        symbol_file: symbols/sources/square.6.svg
  aerialway=station:
    symbol_file: symbols/sources/square.4.svg
    symbol_color: station-icon
    label_color: station-text
    start_symbol: 13
    start_label: 14
    halo_radius: 1.5
    text_dy: 7
    modifications:
      size_6:
        style: standard-symbol-zoom-variant
        start_symbol: 15
        symbol_file: symbols/sources/square.6.svg
  aeroway=helipad:
    symbol_file: symbols/sources/aeroway/helipad.svg
    symbol_color: airtransport-icon
    label_color: airtransport-text
    start_symbol: 16
    start_label: 16
    text_dy: -10
  aeroway=aerodrome:
    style: zoom-limited
    symbol_file: symbols/sources/aeroway/aerodrome.svg
    symbol_color: airtransport-icon
    label_color: airtransport-text
    font_type: oblique
    start_symbol: 11
    zoom_limit: 14
    start_label: 11
    text_dy: 10
    variants:
      public:
        condition: int_access = 'yes' AND icao IS NOT NULL AND iata IS NOT NULL
        start_symbol: 10
        start_label: 10
    attributes:
      - icao
      - iata
  aeroway=gate:
    type: point
    style: ref-only
    start_symbol: 17
    label_color: aeroway-gate-text

  amenity=drinking_water:
    type: point
    symbol_file: symbols/sources/water/drinking_water.svg
    symbol_color: water-icon
    label_color: water-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
    condition: (("natural" IS NULL OR "natural" NOT IN ('spring', 'hot_spring')) AND (man_made IS NULL OR man_made NOT IN ('water_well')))
  amenity=water_point:
    type: point
    symbol_file: symbols/sources/water/water_tap.svg
    symbol_color: water-icon
    label_color: water-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
    variants:
      drinking_water:
        condition: drinking_water = 'yes'
        symbol_file: symbols/sources/water/drinking_water.svg
    attributes:
      - drinking_water
  man_made=water_tap:
    type: point
    symbol_file: symbols/sources/water/water_tap.svg
    symbol_color: water-icon
    label_color: water-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  natural=spring:
    style: spring
    label_color: water-text
    start_symbol: 14
    start_label: 16
    text_dy: 6
    variants:
      connected:
        condition: EXISTS (SELECT 1 FROM planet_osm_line l WHERE ST_DWithin(features.way, l.way, 0.1) AND l.waterway IN ('river', 'canal', 'stream', 'ditch', 'drain'))
        style: spring-connected
        symbol_color: water-icon
    attributes:
      - intermittent
      - drinking_water
  natural=hot_spring:
    style: spring
    label_color: water-text
    start_symbol: 14
    start_label: 16
    text_dy: 6
    variants:
      connected:
        condition: EXISTS (SELECT 1 FROM planet_osm_line l WHERE ST_DWithin(features.way, l.way, 0.1) AND l.waterway IN ('river', 'canal', 'stream', 'ditch', 'drain'))
        style: spring-connected
        symbol_color: water-hot
    attributes:
      - intermittent
      - drinking_water
  man_made=water_well:
    symbol_file: symbols/sources/water/well_small.svg
    symbol_color: water-icon
    label_color: water-text
    start_symbol: 15
    start_label: 16
    text_dy: 6
    modifications:
      large:
        style: standard-symbol-zoom-variant
        start_symbol: 17
        symbol_file: symbols/sources/water/well.svg
    attributes:
      - drinking_water
  amenity=fountain:
    symbol_file: symbols/sources/water/fountain_small.svg
    symbol_color: water-icon
    label_color: water-text
    start_symbol: 17
    start_label: 17
    text_dy: 6
    modifications:
      large:
        style: standard-symbol-zoom-variant
        start_symbol: 18
        text_dy: 9
        symbol_file: symbols/sources/water/fountain.svg
    attributes:
      - drinking_water
  natural=geyser:
    symbol_file: symbols/sources/water/geyser_small.svg
    symbol_color: water-icon
    label_color: water-text
    start_symbol: 14
    start_label: 16
    text_dy: 9
    modifications:
      large:
        style: standard-symbol-zoom-variant
        start_symbol: 16
        symbol_file: symbols/sources/water/geyser.svg

  natural=bay:
    style: label-only
    label_color: water-text
    start_label: 14
    text_dy: 0

  natural=tree:
    type: point
    style: label-tree
    label_color: tree-text
    start_label: 17
    attributes:
      - int_text_offset_tree

  natural=peak/viewpoint:
    type: point
    style: with-elevation
    symbol_file: symbols/sources/natural/peak_small.svg
    symbol_color: landform-icon
    label_color: landform-text
    condition: (tourism = 'viewpoint')
    start_symbol: 11
    start_label: 13
    text_dy: 7
    snap: even
    modifications:
      large:
        style: large-symbol-variant-peak-viewpoint
        start_symbol: 12
        symbol_file: symbols/sources/natural/peak.svg
      large+viewpoint:
        style: peak-variant-with-viewpoint
        start_symbol: 16
    attributes:
      - int_elevation
      - int_text_dy_viewpoint
      - int_offset_x_viewpoint
      - int_offset_y_viewpoint
      - int_width_viewpoint
      - int_height_viewpoint

  natural=peak:
    type: point
    style: with-elevation
    symbol_file: symbols/sources/natural/peak_small.svg
    symbol_color: landform-icon
    label_color: landform-text
    condition: (tourism IS NULL OR tourism NOT IN ('viewpoint'))
    start_symbol: 11
    start_label: 13
    text_dy: 7
    snap: even
    modifications:
      large:
        style: large-symbol-variant-peak
        start_symbol: 12
        symbol_file: symbols/sources/natural/peak.svg
    attributes:
      - int_elevation

  natural=volcano:
    style: with-elevation
    symbol_file: symbols/sources/natural/volcano_small.svg
    symbol_color: landform-icon
    label_color: landform-text
    start_symbol: 13
    start_label: 15
    text_dy: 11
    modifications:
      large:
        style: large-symbol-variant
        start_symbol: 14
        symbol_file: symbols/sources/natural/volcano.svg
    attributes:
      - int_elevation
  natural=saddle:
    type: point
    style: with-elevation
    symbol_file: symbols/sources/natural/saddle.svg
    symbol_color: landform-icon
    label_color: landform-text
    start_symbol: 15
    start_label: 15
    text_dy: 7
    attributes:
      - int_elevation

  natural=cave_entrance:
    type: point
    symbol_file: symbols/sources/natural/cave.svg
    symbol_color: cave-icon
    label_color: cave-text
    start_symbol: 15
    start_label: 15

  power=generator/wind:
    symbol_file: symbols/sources/man_made/generator_wind.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 15
    start_label: 17
    text_dy: 11
    condition: (tags->'generator:source' = 'wind')
    variants:
      roof:
        condition: >-
          "location" IN ('roof', 'rooftop')
        start_symbol: 19
        start_label: 19
    variants:
      offshore:
        condition: >-
          "offshore" = 'yes'
        start_symbol: 13
        start_label: 15
        text_dy: 13
        symbol_file: symbols/sources/man_made/generator_wind_offshore.svg
    attributes:
      - location
      - offshore

  military=bunker:
    symbol_file: symbols/sources/man_made/bunker.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
    text_dy: 9
  amenity=hunting_stand:
    symbol_file: symbols/sources/amenity/hunting_stand.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 16
    start_label: 17
  man_made=windpump:
    type: point
    symbol_file: symbols/sources/man_made/windpump.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 16
    start_label: 17
    text_dy: 13
  man_made=windmill:
    symbol_file: symbols/sources/man_made/windmill.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 16
    start_label: 17
    text_dy: 12
  man_made=watermill:
    symbol_file: symbols/sources/man_made/watermill.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 18
    text_dy: 12
  man_made=water_tower:
    symbol_file: symbols/sources/towers/water_tower.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
  man_made=silo:
    symbol_file: symbols/sources/man_made/silo.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 16
    start_label: 18
    way_pixels_min: 300
    way_pixels_start_all: 18
    modifications:
      silage:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_silage
        symbol_file: symbols/sources/man_made/silo_content.svg
      gravel:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_gravel
        symbol_file: symbols/sources/man_made/silo_content.svg
      salt:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_salt
        symbol_file: symbols/sources/man_made/silo_content.svg
      grain:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_grain
        symbol_file: symbols/sources/man_made/silo_content.svg
      crop:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_grain
        symbol_file: symbols/sources/man_made/silo_content.svg
    attributes:
      - content
  man_made=bunker_silo:
    symbol_file: symbols/sources/man_made/bunker_silo.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 16
    start_label: 18
    way_pixels_min: 300
    way_pixels_start_all: 18
    text_dy: 8
    modifications:
      manure:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_manure
        symbol_file: symbols/sources/man_made/bunker_silo_content.svg
      silage:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_silage
        symbol_file: symbols/sources/man_made/bunker_silo_content.svg
      coal:
        attribute: content
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color: "#000000"
        symbol_color2: content_coal
        symbol_file: symbols/sources/man_made/bunker_silo_content.svg
        text_dy: 9
      gravel:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_gravel
        symbol_file: symbols/sources/man_made/bunker_silo_content.svg
      salt:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_salt
        symbol_file: symbols/sources/man_made/bunker_silo_content.svg
      grain:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_grain
        symbol_file: symbols/sources/man_made/bunker_silo_content.svg
    attributes:
      - content
  man_made=reservoir_covered:
    symbol_file: symbols/sources/man_made/reservoir_covered.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
    text_dy: 7
  man_made=heap:
    symbol_file: symbols/sources/man_made/heap_small.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 15
    start_label: 17
    way_pixels_min: 300
    way_pixels_start_all: 17
    text_dy: 8
    modifications:
      large:
        style: standard-symbol-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/man_made/heap.svg
        text_dy: 9
      coal:
        attribute: resource
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color: "#000000"
        symbol_color2: content_coal
        symbol_file: symbols/sources/man_made/heap_content.svg
        text_dy: 9
      gravel:
        attribute: resource
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color2: content_gravel
        symbol_file: symbols/sources/man_made/heap_content.svg
        text_dy: 9
      salt:
        attribute: resource
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color2: content_salt
        symbol_file: symbols/sources/man_made/heap_content.svg
        text_dy: 9
    attributes:
      - resource
  man_made=spoil_heap:
    symbol_file: symbols/sources/man_made/spoil_heap_small.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 15
    start_label: 17
    way_pixels_min: 300
    way_pixels_start_all: 17
    text_dy: 8
    modifications:
      large:
        style: standard-symbol-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/man_made/spoil_heap.svg
        text_dy: 9
  man_made=gasometer:
    symbol_file: symbols/sources/man_made/gasometer.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 15
    start_label: 17
    way_pixels_min: 300
    way_pixels_start_all: 17
  man_made=storage_tank:
    symbol_file: symbols/sources/man_made/storage_tank.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 16
    start_label: 18
    way_pixels_min: 300
    way_pixels_start_all: 18
    modifications:
      water:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_water
        symbol_file: symbols/sources/man_made/storage_tank_content.svg
      oil:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_oil
        symbol_file: symbols/sources/man_made/storage_tank_content.svg
      fuel:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_oil
        symbol_file: symbols/sources/man_made/storage_tank_content.svg
      gas:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/storage_tank_gas.svg
      sewage:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_sewage
        symbol_file: symbols/sources/man_made/storage_tank_content.svg
      slurry:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_sewage
        symbol_file: symbols/sources/man_made/storage_tank_content.svg
      silage:
        attribute: content
        style: standard-symbol-attribute-variant
        symbol_color2: content_silage
        symbol_file: symbols/sources/man_made/storage_tank_content.svg
    attributes:
      - content
  man_made=lighthouse:
    symbol_file: symbols/sources/towers/lighthouse.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 15
    start_label: 15
    text_dy: 12
    modifications:
      active:
        attribute: int_lighthouse_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/lighthouse_light.svg
      active+variable:
        attribute: int_lighthouse_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/lighthouse_light_variable.svg
    attributes:
      - int_lighthouse_type
  man_made=telescope:
    symbol_file: symbols/sources/man_made/telescope_optical.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
    text_dy: 11
    modifications:
      radio:
        attribute: "telescope:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/telescope_radio.svg
    attributes:
      - "telescope:type"
  man_made=crane:
    symbol_file: symbols/sources/man_made/crane.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
    modifications:
      gantry_crane:
        attribute: "crane:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/crane_gantry.svg
      portal_crane:
        attribute: "crane:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/crane_portal.svg
      floor-mounted_crane:
        attribute: "crane:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/crane_floormounted.svg
      tower_crane:
        attribute: "crane:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/crane_tower.svg
    attributes:
      - "crane:type"
  man_made=mast:
    symbol_file: symbols/sources/towers/mast.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 18
    start_label: 18
    text_dy: 12
    modifications:
      unknown+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_communication.svg
      unknown+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_lighting.svg
      unknown+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_siren.svg
      unknown+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_radar.svg
      freestanding:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_freestanding.svg
      freestanding+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_freestanding_communication.svg
      freestanding+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_freestanding_lighting.svg
      freestanding+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_freestanding_siren.svg
      freestanding+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_freestanding_radar.svg
      lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_lattice.svg
      lattice+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_lattice_communication.svg
      lattice+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_lattice_lighting.svg
      lattice+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_lattice_siren.svg
      lattice+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_lattice_radar.svg
      guyed_lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_lattice.svg
      guyed_lattice+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_lattice_communication.svg
      guyed_lattice+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_lattice_lighting.svg
      guyed_lattice+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_lattice_siren.svg
      guyed_lattice+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_lattice_radar.svg
      guyed_tube:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_tube.svg
      guyed_tube+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_tube_communication.svg
      guyed_tube+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_tube_lighting.svg
      guyed_tube+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_tube_siren.svg
      guyed_tube+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/mast_guyed_tube_radar.svg
    variants:
      height=160:
        condition: (height >= 160) AND "tower:type" NOT IN ('lighting')
        start_symbol: 14
      height=80:
        condition: (height >= 80) AND "tower:type" NOT IN ('lighting')
        start_symbol: 15
      height=40:
        condition: (height >= 40) AND "tower:type" NOT IN ('lighting')
        start_symbol: 16
      height=20:
        condition: (height >= 20) AND "tower:type" NOT IN ('lighting')
        start_symbol: 17
    attributes:
      height: (tags->'location' NOT IN ('roof', 'rooftop') OR (tags->'location') IS NULL)
      "tower:type":
      int_tower_type:
  man_made=tower:
    symbol_file: symbols/sources/towers/tower_generic.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 18
    text_dy: 13
    modifications:
      cooling:
        attribute: "tower:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_cooling.svg
        text_dy: 12
      defensive:
        attribute: "tower:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_defensive.svg
      minaret:
        attribute: "tower:type"
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_minaret.svg
      bell_tower:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower.svg
      bell_tower+lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_lattice.svg
      bell_tower+flat:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_flat.svg
      bell_tower+flat+lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_flat_lattice.svg
      bell_tower+gabled:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_gabled.svg
      bell_tower+gabled+lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_gabled_lattice.svg
      bell_tower+hipped:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_hipped.svg
      bell_tower+hipped+lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_hipped_lattice.svg
      bell_tower+pyramidal:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_pyramidal.svg
      bell_tower+pyramidal+lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/bell_tower_pyramidal_lattice.svg
      unknown+observation:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_observation.svg
      freestanding+observation:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_freestanding_observation.svg
      lattice+observation:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lattice_observation.svg
      unknown+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_communication.svg
      freestanding+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_freestanding_communication.svg
      lattice+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lattice_communication.svg
      dome+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_dome_communication.svg
      dish+communication:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_dish_communication.svg
      unknown+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lighting.svg
      freestanding+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_freestanding_lighting.svg
      lattice+lighting:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lattice_lighting.svg
      unknown+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_siren.svg
      freestanding+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_freestanding_siren.svg
      lattice+siren:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lattice_siren.svg
      unknown+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_radar.svg
      freestanding+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_freestanding_radar.svg
      dome+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_dome_radar.svg
      dish+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_dish_radar.svg
      lattice+radar:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lattice_radar.svg
      freestanding:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_freestanding.svg
      lattice:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_lattice.svg
      dome:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_dome.svg
        text_dy: 12
      dish:
        attribute: int_tower_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/towers/tower_dish.svg
        text_dy: 12
    variants:
      height=160:
        condition: (height >= 160) AND "tower:type" NOT IN ('lighting', 'bell_tower')
        start_symbol: 14
        start_label: 17
      height=80:
        condition: (height >= 80) AND "tower:type" NOT IN ('lighting', 'bell_tower')
        start_symbol: 15
        start_label: 17
      height=40:
        condition: (height >= 40) AND "tower:type" NOT IN ('lighting', 'bell_tower')
        start_symbol: 16
        start_label: 17
      minor_types:
        condition: >-
          "tower:type" IN ('lighting', 'bell_tower')
        start_symbol: 18
        start_label: 19
    attributes:
      height: (tags->'location' NOT IN ('roof', 'rooftop') OR (tags->'location') IS NULL)
      "tower:type":
      int_tower_type:
  man_made=communications_tower:
    symbol_file: symbols/sources/towers/communications_tower.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 14
    start_label: 17
    text_dy: 10
  man_made=petroleum_well:
    symbol_file: symbols/sources/man_made/petroleum_well_small.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
    text_dy: 7
    modifications:
      large:
        style: standard-symbol-zoom-variant
        start_symbol: 18
        symbol_file: symbols/sources/man_made/petroleum_well.svg
        text_dy: 8
      disused:
        attribute: int_petroleum_well_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/petroleum_well_disused_small.svg
      large+disused:
        filters: >-
          [int_petroleum_well_type = 'disused']
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_file: symbols/sources/man_made/petroleum_well_disused.svg
        text_dy: 8
      oil:
        attribute: int_petroleum_well_type
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color2: content_oil
        symbol_file: symbols/sources/man_made/petroleum_well_substance.svg
        text_dy: 8
      gas:
        attribute: int_petroleum_well_type
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color2: content_gas
        symbol_file: symbols/sources/man_made/petroleum_well_substance.svg
        text_dy: 8
      disused+oil:
        attribute: int_petroleum_well_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/petroleum_well_disused_small.svg
      disused+gas:
        attribute: int_petroleum_well_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/petroleum_well_disused_small.svg
      large+disused+oil:
        filters: >-
          [int_petroleum_well_type = 'disused+oil']
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color2: content_oil
        symbol_file: symbols/sources/man_made/petroleum_well_disused_substance.svg
        text_dy: 8
      large+disused+gas:
        filters: >-
          [int_petroleum_well_type = 'disused+gas']
        style: standard-symbol-zoom-attribute-variant
        start_symbol: 18
        symbol_color2: content_gas
        symbol_file: symbols/sources/man_made/petroleum_well_disused_substance.svg
        text_dy: 8
      pump:
        attribute: int_petroleum_well_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/petroleum_pump.svg
        text_dy: 10
      disused+pump:
        attribute: int_petroleum_well_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/man_made/petroleum_pump_disused.svg
        text_dy: 10
    attributes:
      - int_petroleum_well_type
  historic=city_gate:
    symbol_file: symbols/sources/historic/city_gate.svg
    symbol_color: man-made-icon
    label_color: man-made-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  historic=memorial:
    symbol_file: symbols/sources/historic/memorial.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 17
    start_label: 17
    modifications:
      statue:
        attribute: memorial
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/statue.svg
      bust:
        attribute: memorial
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/bust.svg
      stone:
        attribute: memorial
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/stone.svg
      plaque:
        attribute: memorial
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/plaque.svg
      blue_plaque:
        attribute: memorial
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/plaque.svg
    variants:
      medium:
        condition: memorial IN ('bust', 'stele', 'stone')
        start_symbol: 18
        start_label: 18
      small:
        condition: memorial IN ('plaque', 'blue_plaque')
        start_symbol: 19
        start_label: 19
    attributes:
      - memorial
  man_made=obelisk:
    symbol_file: symbols/sources/historic/obelisk.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 17
    start_label: 17
  historic=monument:
    symbol_file: symbols/sources/historic/monument.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 16
    start_label: 16
  historic=fort:
    symbol_file: symbols/sources/historic/fort.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 16
    start_label: 16
  historic=castle:
    symbol_file: symbols/sources/historic/castle.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 15
    start_label: 16
    modifications:
      manor:
        attribute: castle_type
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/manor.svg
      palace:
        filters: >-
          [castle_type = 'palace'], [castle_type = 'stately']
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/palace.svg
      fortress:
        filters: >-
          [castle_type = 'fortress'], [castle_type = 'defensive'], [castle_type = 'castrum'], [castle_type = 'shiro'], [castle_type = 'kremlin']
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/historic/fortress.svg
    variants:
      minor_types:
        condition: castle_type IN ('stately', 'manor')
        start_symbol: 16
        start_label: 16
    attributes:
      - castle_type
  historic=manor:
    symbol_file: symbols/sources/historic/manor.svg
    symbol_color: memorial-icon
    label_color: memorial-text
    start_symbol: 16
    start_label: 16
  historic=archaeological_site:
    symbol_file: symbols/sources/historic/archaeological_site.svg
    symbol_color: culture-icon
    label_color: culture-text
    start_symbol: 16
    start_label: 17
  amenity=place_of_worship:
    symbol_file: symbols/sources/religion/place_of_worship.svg
    symbol_color: place-of-worship-icon
    label_color: place-of-worship-text
    start_symbol: 16
    start_label: 17
    text_dy: 12
    modifications:
      christian:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/christian.svg
      muslim:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/muslim.svg
      sikh:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/sikhist.svg
      jewish:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/jewish.svg
      hindu:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/hinduist.svg
      buddhist:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/buddhist.svg
      shinto:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/shintoist.svg
      taoist:
        attribute: religion
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/religion/taoist.svg
    attributes:
      - religion
  man_made=cross:
    type: point
    symbol_file: symbols/sources/religion/christian.9.svg
    symbol_color: place-of-worship-icon
    label_color: place-of-worship-text
    start_symbol: 16
    start_label: 17
    text_dy: 6
  historic=wayside_cross:
    type: point
    symbol_file: symbols/sources/religion/christian.9.svg
    symbol_color: place-of-worship-icon
    label_color: place-of-worship-text
    start_symbol: 16
    start_label: 17
    text_dy: 6
  historic=wayside_shrine:
    type: point
    symbol_file: symbols/sources/religion/shrine.svg
    symbol_color: man-made-icon
    label_color: place-of-worship-text
    start_symbol: 16
    start_label: 17
    text_dy: 10

  waterway=waterfall:
    style: label-offset
    label_color: water-text
    attributes:
      - height
  man_made=bridge:
    style: bridges
    label_color: bridge-text
    start_label: 12
    way_pixels_min: 62.5
  amenity=hospital:
    symbol_file: symbols/sources/health/hospital.svg
    symbol_color: health-icon
    label_color: health-text
    start_symbol: 15
    start_label: 16
    text_dy: 10
  amenity=pharmacy:
    symbol_file: symbols/sources/health/pharmacy.svg
    symbol_color: health-icon
    label_color: health-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  amenity=dentist:
    symbol_file: symbols/sources/health/dentist.svg
    symbol_color: health-icon
    label_color: health-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  amenity=doctors:
    symbol_file: symbols/sources/health/doctors.svg
    symbol_color: health-icon
    label_color: health-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
  amenity=clinic:
    symbol_file: symbols/sources/health/doctors.svg
    symbol_color: health-icon
    label_color: health-text
    start_symbol: 16
    start_label: 17
    text_dy: 12
  amenity=veterinary:
    symbol_file: symbols/sources/health/veterinary.svg
    symbol_color: health-icon
    label_color: health-text
    start_symbol: 17
    start_label: 17
    text_dy: 12

  amenity=driving_school:
    symbol_file: symbols/sources/circle.4.svg
    symbol_color: shop-icon
    label_color: shop-text
    start_symbol: 17
    start_label: 18
    text_dy: 8
    modifications:
      high_zoom:
        style: standard-symbol-zoom-variant
        symbol_file: symbols/sources/circle.6.svg
        start_symbol: 18
  amenity=marketplace:
    symbol_file: symbols/sources/shop/marketplace.svg
    symbol_color: shop-icon
    label_color: shop-text
    start_symbol: 16
    start_label: 17
    text_dy: 12
    way_pixels_min: 3000
    way_pixels_start_all: 17

  shop=massage:
    symbol_file: symbols/sources/shop/massage.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 17
    start_label: 17
  shop:
    symbol_file: symbols/sources/circle.4.svg
    symbol_color: shop-icon
    label_color: shop-text
    start_symbol: 17
    start_label: 18
    text_dy: 8
    condition: (shop IS NOT NULL AND shop NOT IN ('yes', 'no', 'vacant', 'closed', 'disused', 'empty', 'mall', 'massage'))
    modifications:
      other:
        attribute: shop
        style: standard-symbol-zoom-variant
        symbol_file: symbols/sources/circle.6.svg
        start_symbol: 18
        text_dy: 8
      supermarket:
        attribute: shop
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/shop/supermarket.svg
        text_dy: 10
      department_store:
        attribute: shop
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/shop/department_store.svg
        text_dy: 11
      alcohol:
        template: shop
        symbol_file: symbols/sources/shop/alcohol.svg
      wine:
        template: shop
        symbol_file: symbols/sources/shop/alcohol.svg
      art:
        template: shop
        symbol_file: symbols/sources/shop/art.svg
      bag:
        template: shop
        symbol_file: symbols/sources/shop/bag.svg
      bakery:
        template: shop
        symbol_file: symbols/sources/shop/bakery.svg
      beauty:
        template: shop
        symbol_file: symbols/sources/shop/beauty.svg
      bed:
        template: shop
        symbol_file: symbols/sources/shop/bed.svg
      beverages:
        template: shop
        symbol_file: symbols/sources/shop/beverages.svg
      bicycle:
        template: shop
        symbol_file: symbols/sources/shop/bicycle.svg
      books:
        template: shop
        symbol_file: symbols/sources/amenity/library.svg
      butcher:
        template: shop
        symbol_file: symbols/sources/shop/butcher.svg
      chemist:
        template: shop
        symbol_file: symbols/sources/shop/chemist.svg
      car:
        template: shop
        symbol_file: symbols/sources/shop/car.svg
      car_parts:
        template: shop
        symbol_file: symbols/sources/shop/car_parts.svg
      car_repair:
        template: shop
        symbol_file: symbols/sources/shop/car_repair.svg
      carpet:
        template: shop
        symbol_file: symbols/sources/shop/carpet.svg
      charity:
        template: shop
        symbol_file: symbols/sources/shop/charity.svg
      clothes:
        template: shop
        symbol_file: symbols/sources/shop/clothes.svg
      fashion:
        template: shop
        symbol_file: symbols/sources/shop/clothes.svg
      coffee:
        template: shop
        symbol_file: symbols/sources/shop/coffee.svg
      computer:
        template: shop
        symbol_file: symbols/sources/shop/computer.svg
      convenience:
        template: shop
        symbol_file: symbols/sources/shop/convenience.svg
      chocolate:
        template: shop
        symbol_file: symbols/sources/shop/confectionery.svg
      confectionery:
        template: shop
        symbol_file: symbols/sources/shop/confectionery.svg
      pastry:
        template: shop
        symbol_file: symbols/sources/shop/confectionery.svg
      copyshop:
        template: shop
        symbol_file: symbols/sources/shop/copyshop.svg
      cosmetics:
        template: shop
        symbol_file: symbols/sources/shop/perfumery.svg
      perfumery:
        template: shop
        symbol_file: symbols/sources/shop/perfumery.svg
      dairy:
        template: shop
        symbol_file: symbols/sources/shop/dairy.svg
      deli:
        template: shop
        symbol_file: symbols/sources/shop/deli.svg
      doityourself:
        template: shop
        symbol_file: symbols/sources/shop/diy.svg
      hardware:
        template: shop
        symbol_file: symbols/sources/shop/diy.svg
      dry_cleaning:
        template: shop
        symbol_file: symbols/sources/shop/laundry.svg
      laundry:
        template: shop
        symbol_file: symbols/sources/shop/laundry.svg
      electronics:
        template: shop
        symbol_file: symbols/sources/shop/electronics.svg
      fabric:
        template: shop
        symbol_file: symbols/sources/shop/fabric.svg
      fishmonger:
        template: shop
        symbol_file: symbols/sources/shop/seafood.svg
        text_dy: 9
      seafood:
        template: shop
        symbol_file: symbols/sources/shop/seafood.svg
        text_dy: 9
      florist:
        template: shop
        symbol_file: symbols/sources/shop/florist.svg
      furniture:
        template: shop
        symbol_file: symbols/sources/shop/furniture.svg
        text_dy: 10
      garden_centre:
        template: shop
        symbol_file: symbols/sources/shop/garden_centre.svg
      gift:
        template: shop
        symbol_file: symbols/sources/shop/gift.svg
      greengrocer:
        template: shop
        symbol_file: symbols/sources/shop/greengrocer.svg
      farm:
        template: shop
        symbol_file: symbols/sources/shop/greengrocer.svg
      hairdresser:
        template: shop
        symbol_file: symbols/sources/shop/hairdresser.svg
      hifi:
        template: shop
        symbol_file: symbols/sources/shop/hifi.svg
      houseware:
        template: shop
        symbol_file: symbols/sources/shop/houseware.svg
      interior_decoration:
        template: shop
        symbol_file: symbols/sources/shop/interior_decoration.svg
      jewelry:
        template: shop
        symbol_file: symbols/sources/shop/jewelry.svg
      jewellry:
        template: shop
        symbol_file: symbols/sources/shop/jewelry.svg
      medical_supply:
        template: shop
        symbol_file: symbols/sources/shop/medical_supply.svg
      mobile_phone:
        template: shop
        symbol_file: symbols/sources/shop/mobile_phone.svg
      motorcycle:
        template: shop
        symbol_file: symbols/sources/shop/motorcycle.svg
      music:
        template: shop
        symbol_file: symbols/sources/shop/music.svg
      musical_instrument:
        template: shop
        symbol_file: symbols/sources/shop/musical_instrument.svg
      kiosk:
        template: shop
        symbol_file: symbols/sources/shop/newsagent.svg
      newsagent:
        template: shop
        symbol_file: symbols/sources/shop/newsagent.svg
      optician:
        template: shop
        symbol_file: symbols/sources/shop/optician.svg
      outdoor:
        template: shop
        symbol_file: symbols/sources/shop/outdoor.svg
      pet:
        template: shop
        symbol_file: symbols/sources/shop/pet.svg
      photo:
        template: shop
        symbol_file: symbols/sources/shop/photo.svg
      photo_studio:
        template: shop
        symbol_file: symbols/sources/shop/photo.svg
      photography:
        template: shop
        symbol_file: symbols/sources/shop/photo.svg
      paint:
        template: shop
        symbol_file: symbols/sources/shop/paint.svg
      shoes:
        template: shop
        symbol_file: symbols/sources/shop/shoes.svg
      second_hand:
        template: shop
        symbol_file: symbols/sources/shop/second_hand.svg
      sports:
        template: shop
        symbol_file: symbols/sources/shop/sports.svg
      stationery:
        template: shop
        symbol_file: symbols/sources/shop/stationery.svg
      tobacco:
        template: shop
        symbol_file: symbols/sources/shop/tobacco.svg
      tea:
        template: shop
        symbol_file: symbols/sources/shop/tea.svg
      ticket:
        template: shop
        symbol_file: symbols/sources/shop/ticket.svg
        text_dy: 9
      toys:
        template: shop
        symbol_file: symbols/sources/shop/toys.svg
      trade:
        template: shop
        symbol_file: symbols/sources/shop/trade.svg
      wholesale:
        template: shop
        symbol_file: symbols/sources/shop/trade.svg
      travel_agency:
        template: shop
        symbol_file: symbols/sources/shop/travel_agency.svg
      tyres:
        template: shop
        symbol_file: symbols/sources/shop/tyres.svg
      variety_store:
        template: shop
        symbol_file: symbols/sources/shop/variety_store.svg
      video:
        template: shop
        symbol_file: symbols/sources/shop/video.svg
      video_games:
        template: shop
        symbol_file: symbols/sources/shop/video_games.svg
    variants:
      early:
        condition: shop IN ('supermarket', 'department_store')
        start_symbol: 16
    attributes:
      - shop

  advertising=column:
    symbol_file: symbols/sources/advertising/column.svg
    symbol_color: advertising-grey
    start_symbol: 19

  office:
    symbol_file: symbols/sources/circle.6.svg
    symbol_color: office-icon
    label_color: office-text
    start_symbol: 18
    start_label: 19
    text_dy: 8
    condition: (office IS NOT NULL AND office NOT IN ('yes', 'no', 'vacant', 'closed', 'disused', 'empty'))
    modifications:
      embassy:
        attribute: diplomatic
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/office/embassy.svg
        text_dy: 11
      consulate:
        attribute: diplomatic
        style: standard-symbol-attribute-variant
        symbol_file: symbols/sources/office/consulate.svg
        text_dy: 11
    variants:
      diplomatic:
        start_symbol: 17
        start_label: 17
        condition: diplomatic IN ('embassy', 'consulate')
      large:
        start_label: 18
        condition: office IN ('accountant', 'adoption_agency', 'advertising_agency', 'architect', 'association', 'charity', 'company', 'educational_institution', 'employment_agency',  'energy_supplier', 'estate_agent', 'financial', 'forestry', 'foundation', 'government', 'guide', 'insurance', 'it', 'lawyer', 'logistics', 'moving_company', 'newspaper', 'ngo', 'notary', 'political_party', 'private_investigator', 'property_management', 'quango', 'religion', 'research', 'surveyor', 'tax', 'tax_advisor', 'telecommunication', 'travel_agent', 'water_utility')
    attributes:
      - office
      - diplomatic

  leisure=water_park:
    symbol_file: symbols/sources/leisure/water_park.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 14
    start_label: 14
    way_pixels_min: 3000
    way_pixels_start_all: 17
    text_dy: 12
  leisure=fitness_centre:
    symbol_file: symbols/sources/leisure/fitness.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 14
    start_label: 14
    way_pixels_min: 3000
    way_pixels_start_all: 17
  leisure=fitness_station:
    style: access-light
    symbol_file: symbols/sources/leisure/fitness.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 17
    start_label: 18
    attributes:
      - int_access
  leisure=playground:
    style: access-light
    symbol_file: symbols/sources/leisure/playground.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 17
    start_label: 17
    text_dy: 12
    attributes:
      - int_access
  leisure=miniature_golf:
    symbol_file: symbols/sources/leisure/miniature_golf.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 17
    start_label: 17
    text_dy: 13
  leisure=golf_course:
    symbol_file: symbols/sources/leisure/golf.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 15
    start_label: 15
    text_dy: 13
  tourism=picnic_site:
    symbol_file: symbols/sources/leisure/picnic.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 16
    start_label: 17
  leisure=picnic_table:
    symbol_file: symbols/sources/leisure/picnic.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
    text_dy: 10
  leisure=firepit:
    symbol_file: symbols/sources/leisure/firepit.svg
    symbol_color: amenity-icon
    label_color: amenity-text
    start_symbol: 17
    start_label: 17
  leisure=sauna:
    symbol_file: symbols/sources/leisure/sauna.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 17
    start_label: 17
  leisure=beach_resort:
    symbol_file: symbols/sources/leisure/beach_resort.svg
    symbol_color: leisure-icon
    label_color: leisure-text
    start_symbol: 16
    start_label: 17
    text_dy: 10

  leisure=slipway:
    symbol_file: symbols/sources/transport/slipway.svg
    symbol_color: transportation-icon
    label_color: transportation-text
    start_symbol: 17
    start_label: 17
    text_dy: 13

  leisure=dog_park:
    style: label-variable-size
    label_color: darken(@park, 60%)
    start_label: 10
    font_type: oblique
    halo_radius: 1.5
    way_pixels_min: 3000
    way_pixels_start_all: 17
    condition: (building IS NULL OR building = 'no')
    attributes:
      - building
  leisure=swimming_pool:
    style: label-variable-size
    label_color: "@marina-text"
    start_label: 14
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 17
    condition: (building IS NULL OR building = 'no')
    attributes:
      - building

  shop=mall:
    style: label-variable-size
    label_color: darken(@retail, 50%)
    start_label: 10
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 17

  place=archipelago:
    style: label-variable-size
    type: convex_hull
    label_color: island-text
    start_label: 10
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 16
  place=island:
    style: label-variable-size
    label_color: island-text
    start_label: 10
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 16
  place=islet:
    style: label-variable-size
    label_color: island-text
    start_label: 11
    font_type: oblique
    way_pixels_min: 3000
    way_pixels_start_all: 17

  landuse=military:
    template: label-variable-size-nobuilding
    label_color: darken(@military, 20%)
  military=danger_area:
    template: label-variable-size-nobuilding
    label_color: darken(@military, 20%)

  highway=services:
    template: label-variable-size-nobuilding
    label_color: darken(@rest_area, 40%)
    start_label: 13
  highway=rest_area:
    template: label-variable-size-nobuilding
    label_color: darken(@rest_area, 40%)
    start_label: 13
  landuse=garages:
    template: label-variable-size-nobuilding
    label_color: darken(@garages, 50%)
    start_label: 13
  landuse=retail:
    template: label-variable-size-nobuilding
    label_color: darken(@retail, 50%)
    start_label: 13
  landuse=residential:
    template: label-variable-size-nobuilding
    label_color: darken(@residential, 50%)
    start_label: 13
  landuse=industrial:
    template: label-variable-size-nobuilding
    label_color: darken(@industrial, 50%)
    start_label: 13
  landuse=railway:
    template: label-variable-size-nobuilding
    label_color: darken(@industrial, 50%)
    start_label: 13
  man_made=works:
    template: label-variable-size-nobuilding
    label_color: darken(@industrial, 50%)
    start_label: 13
  landuse=cemetery:
    template: label-variable-size-nobuilding
    label_color: darken(@cemetery, 50%)
    halo_radius: 1.5
  amenity=grave_yard:
    template: label-variable-size-nobuilding
    label_color: darken(@cemetery, 50%)
    halo_radius: 1.5
  landuse=commercial:
    template: label-variable-size-nobuilding
    label_color: darken(@commercial, 50%)
  landuse=quarry:
    template: label-variable-size-nobuilding
    label_color: darken(@construction, 50%)
  landuse=brownfield:
    template: label-variable-size-nobuilding
    label_color: darken(@construction, 50%)
  landuse=landfill:
    template: label-variable-size-nobuilding
    label_color: darken(@construction, 50%)
  landuse=construction:
    template: label-variable-size-nobuilding
    label_color: darken(@construction, 50%)
  landuse=village_green:
    template: label-variable-size-nobuilding
    label_color: darken(@grass, 50%)
  leisure=common:
    template: label-variable-size-nobuilding
    label_color: darken(@grass, 50%)
  leisure=garden:
    template: label-variable-size-nobuilding
    label_color: darken(@grass, 50%)
  landuse=meadow:
    template: label-variable-size-nobuilding
    label_color: darken(@grass, 50%)
  landuse=grass:
    template: label-variable-size-nobuilding
    label_color: darken(@grass, 50%)
  natural=grassland:
    template: label-variable-size-nobuilding
    label_color: darken(@grass, 50%)
  landuse=allotments:
    template: label-variable-size-nobuilding
    label_color: darken(@allotments, 50%)
  landuse=farmyard:
    template: label-variable-size-nobuilding
    label_color: darken(@farmyard, 50%)
  landuse=farmland:
    template: label-variable-size-nobuilding
    label_color: darken(@farmland, 50%)
  landuse=greenhouse_horticulture:
    template: label-variable-size-nobuilding
    label_color: darken(@farmland, 50%)
  landuse=forest:
    template: label-variable-size-nobuilding
    label_color: "@forest-text"
  natural=wood:
    template: label-variable-size-nobuilding
    label_color: "@forest-text"
  natural=wetland:
    template: label-variable-size-nobuilding
    label_color: "@wetland-text"
  natural=reef:
    template: label-variable-size-nobuilding
    label_color: "@wetland-text"
  natural=mud:
    template: label-variable-size-nobuilding
    label_color: "@wetland-text"
  natural=heath:
    template: label-variable-size-nobuilding
    label_color: darken(@heath, 50%)
  natural=scrub:
    template: label-variable-size-nobuilding
    label_color: darken(@scrub, 50%)
  natural=beach:
    template: label-variable-size-nobuilding
    label_color: darken(@beach, 60%)
  natural=shoal:
    template: label-variable-size-nobuilding
    label_color: darken(@beach, 60%)
  natural=sand:
    template: label-variable-size-nobuilding
    label_color: darken(@sand, 50%)
  natural=scree:
    template: label-variable-size-nobuilding
    label_color: darken(@bare_ground, 50%)
  natural=shingle:
    template: label-variable-size-nobuilding
    label_color: darken(@bare_ground, 50%)
  natural=bare_rock:
    template: label-variable-size-nobuilding
    label_color: darken(@bare_ground, 50%)
  natural=glacier:
    template: label-variable-size-nobuilding
    label_color: mix(darken(@glacier, 40%), darken(@glacier-line, 30%), 50%)
    way_pixels_min: 750
  natural=water:
    template: label-variable-size-water
    label_color: "@water-text"
  landuse=reservoir:
    template: label-variable-size-water
    label_color: "@water-text"
  landuse=basin:
    template: label-variable-size-water
    label_color: "@water-text"
  leisure=sport_centre:
    template: label-variable-size-nobuilding
    label_color: darken(@stadium, 60%)
  leisure=stadium:
    template: label-variable-size-nobuilding
    label_color: darken(@stadium, 60%)
  leisure=fitness_centre:
    template: label-variable-size-nobuilding
    label_color: darken(@stadium, 60%)
  leisure=fitness_station:
    template: label-variable-size-nobuilding
    label_color: darken(@stadium, 60%)
  leisure=park:
    template: label-variable-size-nobuilding
    label_color: darken(@park, 60%)
  landuse=recreation_ground:
    template: label-variable-size-nobuilding
    label_color: darken(@park, 60%)
  tourism=theme_park:
    template: label-variable-size-nobuilding
    label_color: "@tourism"
    font_type: bold
  tourism=zoo:
    template: label-variable-size-nobuilding
    label_color: "@tourism"
    font_type: bold
  leisure=marina:
    template: label-variable-size-nobuilding
    label_color: "@marina-text"
    start_label: 15
  amenity=kindergarten:
    template: label-variable-size-nobuilding
    label_color: darken(@societal_amenities, 60%)
  amenity=school:
    template: label-variable-size-nobuilding
    label_color: darken(@societal_amenities, 60%)
  amenity=college:
    template: label-variable-size-nobuilding
    label_color: darken(@societal_amenities, 60%)
  amenity=university:
    template: label-variable-size-nobuilding
    label_color: darken(@societal_amenities, 60%)
  power=plant:
    template: label-variable-size-nobuilding
    label_color: darken(@power, 40%)
  power=generator:
    template: label-variable-size-nobuilding
    label_color: darken(@power, 40%)
    condition: (tags->'generator:type' IS NULL OR tags->'generator:type' NOT IN ('wind'))
  power=substation:
    template: label-variable-size-nobuilding
    label_color: darken(@power, 40%)
    start_label: 13
  aeroway=apron:
    template: label-variable-size-nobuilding
    label_color: darken(@apron, 50%)
